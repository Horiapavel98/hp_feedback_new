/*! For license information please see main.5f368ce1.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,E=60106,x=60107,I=60108,T=60114,S=60109,C=60110,A=60112,N=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;_=j("react.element"),E=j("react.portal"),x=j("react.fragment"),I=j("react.strict_mode"),T=j("react.profiler"),S=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),R=j("react.suspense_list"),O=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){qe=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,u,s){We=!1,He=null,ze.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Ct=St("animationend"),At=St("animationiteration"),Nt=St("animationstart"),Rt=St("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),En=sn(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var An=i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Qn(t,$n,e,Te(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<xr.length;Ir++)Pt.set(xr[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Sr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,xi=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,qi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ii(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!qi&&null!==ji){qi=!0;var e=0;try{var t=ji;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Oi,Qi),n}finally{qi=!1}}}var $i=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$s(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Js(t,e.mode,n)).return=e,t}if(_a(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===x?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(_a(n)||B(n))return null!==i?null:f(e,t,n,r,null);xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);xa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===x&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===x){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===x?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$s(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(l&&xa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,qa=!1;function Ba(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(qa){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(ja=e);Ba(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ka(e){if(e!==ja)return!1;if(!qa)return Ha(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,qa=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=$a.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function xo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:So,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return yo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:xo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:To,useLayoutEffect:xo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,$o,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in xe(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}xe(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Pu||0===(134217727&qu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in xe(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$u||($u=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):xu(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=zi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,qu=0,Bu=0,zu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=zi()+500}var Qu,Yu=null,$u=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(Bu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ys(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ti(Oi,Yi)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ts();for(Pu===e&&Lu===r||(Gu(),xs(e,r));;)try{As();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=Uu),0!==(Vu&Bu))xs(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ss(e,n))),1===r)throw t=ju,xs(e,0),gs(e,n),ys(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ys(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(Vu&Bu)&&(n=Ss(e,t=Ut(e,t)))}else n=Ss(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ss(e,t))),1===n)throw n=ju,xs(e,0),gs(e,t),ys(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ys(e,zi()),null}function bs(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function ws(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function _s(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function Es(){Mu=Fu.current,li(Fu)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,zu=Bu=qu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),$a.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=qs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Xu||!Xu.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(E){t=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ts(){var e=Nu.current;return Nu.current=Oo,null===e?Oo:e}function Ss(e,t){var n=Ou;Ou|=16;var r=Ts();for(Pu===e&&Lu===t||xs(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ou=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Os(e){var t=Wi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,qr=Yt,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ds()}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_u(Yu),Yu.flags&=-3;break;case 6:_u(Yu),Yu.flags&=-3,Tu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Tu(Yu.alternate,Yu);break;case 4:Tu(Yu.alternate,Yu);break;case 8:Iu(u,s=Yu);var _=s.alternate;bu(s),null!==_&&bu(_)}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);if(w=Br,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(k,_),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!qr,Br=qr=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var E=Yu.flags;if(36&E&&mu(k,Yu.alternate,Yu),128&E){b=void 0;var x=Yu.ref;if(null!==x){var I=Yu.stateNode;Yu.tag,b=I,"function"===typeof x?x(b):x.current=b}}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Ui(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((E=Yu).sibling=null,E.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(T){}if(ys(e,zi()),$u)throw $u=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||Qi(),null}function Ds(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&yu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>zi()-Hu?xs(e,0):zu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=qt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ys(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new zs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case T:return(e=Ws(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Ws(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Ys(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case A:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function $s(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),xi=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var u,s,c,l=t(e),f=t(o);if(l&&f){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((s=y.length)!==n(o).length)return!1;for(u=s;0!==u--;)if(!r.call(o,y[u]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(u=s;0!==u--;)if(("_owner"!==(c=y[u])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=y.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(_,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},E(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,A=null,N=3,R=!1,O=!1,P=!1;function D(e){for(var t=E(S);null!==t;){if(null===t.callback)x(S);else{if(!(t.startTime<=e))break;x(S),t.sortIndex=t.expirationTime,_(T,t)}t=E(S)}}function L(e){if(P=!1,D(e),!O)if(null!==E(T))O=!0,n(M);else{var t=E(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=N;try{for(D(n),A=E(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===E(T)&&x(T),D(n)}else x(T);A=E(T)}if(null!==A)var s=!0;else{var c=E(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(S,e),null===E(T)&&e===E(S)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,_(T,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ti},SDK_VERSION:function(){return ea},_DEFAULT_ENTRY_NAME:function(){return ji},_addComponent:function(){return zi},_addOrOverwriteComponent:function(){return Wi},_apps:function(){return qi},_clearComponents:function(){return Qi},_components:function(){return Bi},_getProvider:function(){return Ki},_registerComponent:function(){return Hi},_removeServiceInstance:function(){return Gi},deleteApp:function(){return ia},getApp:function(){return na},getApps:function(){return ra},initializeApp:function(){return ta},onLog:function(){return ua},registerVersion:function(){return oa},setLogLevel:function(){return sa}});var t=n(791),r=n(164),i=n(77),a=n.n(i),o=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===u}(e)}(e)};var u="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function c(e,t,n){return e.concat(t).map((function(e){return s(e,n)}))}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||c,n.isMergeableObject=n.isMergeableObject||o;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=s(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=l(e[i],t[i],n):r[i]=s(t[i],n)})),r}(e,t,n):s(t,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var f=l,h="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,p=h||d||Function("return this")(),v=p.Symbol,y=Object.prototype,m=y.hasOwnProperty,g=y.toString,k=v?v.toStringTag:void 0;var b=function(e){var t=m.call(e,k),n=e[k];try{e[k]=void 0;var r=!0}catch(a){}var i=g.call(e);return r&&(t?e[k]=n:delete e[k]),i},w=Object.prototype.toString;var _=function(e){return w.call(e)},E=v?v.toStringTag:void 0;var x=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?b(e):_(e)};var I=function(e,t){return function(n){return e(t(n))}},T=I(Object.getPrototypeOf,Object);var S=function(e){return null!=e&&"object"==typeof e},C=Function.prototype,A=Object.prototype,N=C.toString,R=A.hasOwnProperty,O=N.call(Object);var P=function(e){if(!S(e)||"[object Object]"!=x(e))return!1;var t=T(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&N.call(n)==O};var D=function(){this.__data__=[],this.size=0};var L=function(e,t){return e===t||e!==e&&t!==t};var M=function(e,t){for(var n=e.length;n--;)if(L(e[n][0],t))return n;return-1},F=Array.prototype.splice;var U=function(e){var t=this.__data__,n=M(t,e);return!(n<0)&&(n==t.length-1?t.pop():F.call(t,n,1),--this.size,!0)};var j=function(e){var t=this.__data__,n=M(t,e);return n<0?void 0:t[n][1]};var V=function(e){return M(this.__data__,e)>-1};var q=function(e,t){var n=this.__data__,r=M(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function B(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=D,B.prototype.delete=U,B.prototype.get=j,B.prototype.has=V,B.prototype.set=q;var z=B;var W=function(){this.__data__=new z,this.size=0};var H=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var K=function(e){return this.__data__.get(e)};var G=function(e){return this.__data__.has(e)};var Q=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Y=function(e){if(!Q(e))return!1;var t=x(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},$=p["__core-js_shared__"],J=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var X=function(e){return!!J&&J in e},Z=Function.prototype.toString;var ee=function(e){if(null!=e){try{return Z.call(e)}catch(t){}try{return e+""}catch(t){}}return""},te=/^\[object .+?Constructor\]$/,ne=Function.prototype,re=Object.prototype,ie=ne.toString,ae=re.hasOwnProperty,oe=RegExp("^"+ie.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ue=function(e){return!(!Q(e)||X(e))&&(Y(e)?oe:te).test(ee(e))};var se=function(e,t){return null==e?void 0:e[t]};var ce=function(e,t){var n=se(e,t);return ue(n)?n:void 0},le=ce(p,"Map"),fe=ce(Object,"create");var he=function(){this.__data__=fe?fe(null):{},this.size=0};var de=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},pe=Object.prototype.hasOwnProperty;var ve=function(e){var t=this.__data__;if(fe){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return pe.call(t,e)?t[e]:void 0},ye=Object.prototype.hasOwnProperty;var me=function(e){var t=this.__data__;return fe?void 0!==t[e]:ye.call(t,e)};var ge=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fe&&void 0===t?"__lodash_hash_undefined__":t,this};function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ke.prototype.clear=he,ke.prototype.delete=de,ke.prototype.get=ve,ke.prototype.has=me,ke.prototype.set=ge;var be=ke;var we=function(){this.size=0,this.__data__={hash:new be,map:new(le||z),string:new be}};var _e=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Ee=function(e,t){var n=e.__data__;return _e(t)?n["string"==typeof t?"string":"hash"]:n.map};var xe=function(e){var t=Ee(this,e).delete(e);return this.size-=t?1:0,t};var Ie=function(e){return Ee(this,e).get(e)};var Te=function(e){return Ee(this,e).has(e)};var Se=function(e,t){var n=Ee(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ce.prototype.clear=we,Ce.prototype.delete=xe,Ce.prototype.get=Ie,Ce.prototype.has=Te,Ce.prototype.set=Se;var Ae=Ce;var Ne=function(e,t){var n=this.__data__;if(n instanceof z){var r=n.__data__;if(!le||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ae(r)}return n.set(e,t),this.size=n.size,this};function Re(e){var t=this.__data__=new z(e);this.size=t.size}Re.prototype.clear=W,Re.prototype.delete=H,Re.prototype.get=K,Re.prototype.has=G,Re.prototype.set=Ne;var Oe=Re;var Pe=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},De=function(){try{var e=ce(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Le=function(e,t,n){"__proto__"==t&&De?De(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Me=Object.prototype.hasOwnProperty;var Fe=function(e,t,n){var r=e[t];Me.call(e,t)&&L(r,n)&&(void 0!==n||t in e)||Le(e,t,n)};var Ue=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var u=t[a],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?Le(n,u,s):Fe(n,u,s)}return n};var je=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ve=function(e){return S(e)&&"[object Arguments]"==x(e)},qe=Object.prototype,Be=qe.hasOwnProperty,ze=qe.propertyIsEnumerable,We=Ve(function(){return arguments}())?Ve:function(e){return S(e)&&Be.call(e,"callee")&&!ze.call(e,"callee")},He=We,Ke=Array.isArray;var Ge=function(){return!1},Qe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ye=Qe&&"object"==typeof module&&module&&!module.nodeType&&module,$e=Ye&&Ye.exports===Qe?p.Buffer:void 0,Je=($e?$e.isBuffer:void 0)||Ge,Xe=/^(?:0|[1-9]\d*)$/;var Ze=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Xe.test(e))&&e>-1&&e%1==0&&e<t};var et=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt["[object Arguments]"]=tt["[object Array]"]=tt["[object ArrayBuffer]"]=tt["[object Boolean]"]=tt["[object DataView]"]=tt["[object Date]"]=tt["[object Error]"]=tt["[object Function]"]=tt["[object Map]"]=tt["[object Number]"]=tt["[object Object]"]=tt["[object RegExp]"]=tt["[object Set]"]=tt["[object String]"]=tt["[object WeakMap]"]=!1;var nt=function(e){return S(e)&&et(e.length)&&!!tt[x(e)]};var rt=function(e){return function(t){return e(t)}},it="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=it&&"object"==typeof module&&module&&!module.nodeType&&module,ot=at&&at.exports===it&&h.process,ut=function(){try{var e=at&&at.require&&at.require("util").types;return e||ot&&ot.binding&&ot.binding("util")}catch(t){}}(),st=ut&&ut.isTypedArray,ct=st?rt(st):nt,lt=Object.prototype.hasOwnProperty;var ft=function(e,t){var n=Ke(e),r=!n&&He(e),i=!n&&!r&&Je(e),a=!n&&!r&&!i&&ct(e),o=n||r||i||a,u=o?je(e.length,String):[],s=u.length;for(var c in e)!t&&!lt.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ze(c,s))||u.push(c);return u},ht=Object.prototype;var dt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ht)},pt=I(Object.keys,Object),vt=Object.prototype.hasOwnProperty;var yt=function(e){if(!dt(e))return pt(e);var t=[];for(var n in Object(e))vt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var mt=function(e){return null!=e&&et(e.length)&&!Y(e)};var gt=function(e){return mt(e)?ft(e):yt(e)};var kt=function(e,t){return e&&Ue(t,gt(t),e)};var bt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},wt=Object.prototype.hasOwnProperty;var _t=function(e){if(!Q(e))return bt(e);var t=dt(e),n=[];for(var r in e)("constructor"!=r||!t&&wt.call(e,r))&&n.push(r);return n};var Et=function(e){return mt(e)?ft(e,!0):_t(e)};var xt=function(e,t){return e&&Ue(t,Et(t),e)},It="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tt=It&&"object"==typeof module&&module&&!module.nodeType&&module,St=Tt&&Tt.exports===It?p.Buffer:void 0,Ct=St?St.allocUnsafe:void 0;var At=function(e,t){if(t)return e.slice();var n=e.length,r=Ct?Ct(n):new e.constructor(n);return e.copy(r),r};var Nt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Rt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Ot=function(){return[]},Pt=Object.prototype.propertyIsEnumerable,Dt=Object.getOwnPropertySymbols,Lt=Dt?function(e){return null==e?[]:(e=Object(e),Rt(Dt(e),(function(t){return Pt.call(e,t)})))}:Ot;var Mt=function(e,t){return Ue(e,Lt(e),t)};var Ft=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ut=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ft(t,Lt(e)),e=T(e);return t}:Ot;var jt=function(e,t){return Ue(e,Ut(e),t)};var Vt=function(e,t,n){var r=t(e);return Ke(e)?r:Ft(r,n(e))};var qt=function(e){return Vt(e,gt,Lt)};var Bt=function(e){return Vt(e,Et,Ut)},zt=ce(p,"DataView"),Wt=ce(p,"Promise"),Ht=ce(p,"Set"),Kt=ce(p,"WeakMap"),Gt="[object Map]",Qt="[object Promise]",Yt="[object Set]",$t="[object WeakMap]",Jt="[object DataView]",Xt=ee(zt),Zt=ee(le),en=ee(Wt),tn=ee(Ht),nn=ee(Kt),rn=x;(zt&&rn(new zt(new ArrayBuffer(1)))!=Jt||le&&rn(new le)!=Gt||Wt&&rn(Wt.resolve())!=Qt||Ht&&rn(new Ht)!=Yt||Kt&&rn(new Kt)!=$t)&&(rn=function(e){var t=x(e),n="[object Object]"==t?e.constructor:void 0,r=n?ee(n):"";if(r)switch(r){case Xt:return Jt;case Zt:return Gt;case en:return Qt;case tn:return Yt;case nn:return $t}return t});var an=rn,on=Object.prototype.hasOwnProperty;var un=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&on.call(e,"index")&&(n.index=e.index,n.input=e.input),n},sn=p.Uint8Array;var cn=function(e){var t=new e.constructor(e.byteLength);return new sn(t).set(new sn(e)),t};var ln=function(e,t){var n=t?cn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},fn=/\w*$/;var hn=function(e){var t=new e.constructor(e.source,fn.exec(e));return t.lastIndex=e.lastIndex,t},dn=v?v.prototype:void 0,pn=dn?dn.valueOf:void 0;var vn=function(e){return pn?Object(pn.call(e)):{}};var yn=function(e,t){var n=t?cn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var mn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return cn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return ln(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return yn(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return hn(e);case"[object Symbol]":return vn(e)}},gn=Object.create,kn=function(){function e(){}return function(t){if(!Q(t))return{};if(gn)return gn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var bn=function(e){return"function"!=typeof e.constructor||dt(e)?{}:kn(T(e))};var wn=function(e){return S(e)&&"[object Map]"==an(e)},_n=ut&&ut.isMap,En=_n?rt(_n):wn;var xn=function(e){return S(e)&&"[object Set]"==an(e)},In=ut&&ut.isSet,Tn=In?rt(In):xn,Sn="[object Arguments]",Cn="[object Function]",An="[object Object]",Nn={};Nn[Sn]=Nn["[object Array]"]=Nn["[object ArrayBuffer]"]=Nn["[object DataView]"]=Nn["[object Boolean]"]=Nn["[object Date]"]=Nn["[object Float32Array]"]=Nn["[object Float64Array]"]=Nn["[object Int8Array]"]=Nn["[object Int16Array]"]=Nn["[object Int32Array]"]=Nn["[object Map]"]=Nn["[object Number]"]=Nn["[object Object]"]=Nn["[object RegExp]"]=Nn["[object Set]"]=Nn["[object String]"]=Nn["[object Symbol]"]=Nn["[object Uint8Array]"]=Nn["[object Uint8ClampedArray]"]=Nn["[object Uint16Array]"]=Nn["[object Uint32Array]"]=!0,Nn["[object Error]"]=Nn[Cn]=Nn["[object WeakMap]"]=!1;var Rn=function e(t,n,r,i,a,o){var u,s=1&n,c=2&n,l=4&n;if(r&&(u=a?r(t,i,a,o):r(t)),void 0!==u)return u;if(!Q(t))return t;var f=Ke(t);if(f){if(u=un(t),!s)return Nt(t,u)}else{var h=an(t),d=h==Cn||"[object GeneratorFunction]"==h;if(Je(t))return At(t,s);if(h==An||h==Sn||d&&!a){if(u=c||d?{}:bn(t),!s)return c?jt(t,xt(u,t)):Mt(t,kt(u,t))}else{if(!Nn[h])return a?t:{};u=mn(t,h,s)}}o||(o=new Oe);var p=o.get(t);if(p)return p;o.set(t,u),Tn(t)?t.forEach((function(i){u.add(e(i,n,r,i,t,o))})):En(t)&&t.forEach((function(i,a){u.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?Bt:qt:c?Et:gt)(t);return Pe(v||t,(function(i,a){v&&(i=t[a=i]),Fe(u,a,e(i,n,r,a,t,o))})),u};var On=function(e){return Rn(e,4)};var Pn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Dn=function(e){return"symbol"==typeof e||S(e)&&"[object Symbol]"==x(e)};function Ln(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Ln.Cache||Ae),n}Ln.Cache=Ae;var Mn=Ln;var Fn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Un=/\\(\\)?/g,jn=function(e){var t=Mn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Fn,(function(e,n,r,i){t.push(r?i.replace(Un,"$1"):n||e)})),t}));var Vn=function(e){if("string"==typeof e||Dn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},qn=v?v.prototype:void 0,Bn=qn?qn.toString:void 0;var zn=function e(t){if("string"==typeof t)return t;if(Ke(t))return Pn(t,e)+"";if(Dn(t))return Bn?Bn.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Wn=function(e){return null==e?"":zn(e)};var Hn=function(e){return Ke(e)?Pn(e,Vn):Dn(e)?[e]:Nt(jn(Wn(e)))};var Kn=function(e,t){};n(110);var Gn=function(e){return Rn(e,5)};function Qn(){return Qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function Yn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function $n(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xn=function(e){return Array.isArray(e)&&0===e.length},Zn=function(e){return"function"===typeof e},er=function(e){return null!==e&&"object"===typeof e},tr=function(e){return String(Math.floor(Number(e)))===e},nr=function(e){return"[object String]"===Object.prototype.toString.call(e)},rr=function(e){return 0===t.Children.count(e)},ir=function(e){return er(e)&&Zn(e.then)};function ar(e,t,n,r){void 0===r&&(r=0);for(var i=Hn(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function or(e,t,n){for(var r=On(e),i=r,a=0,o=Hn(t);a<o.length-1;a++){var u=o[a],s=ar(e,o.slice(0,a+1));if(s&&(er(s)||Array.isArray(s)))i=i[u]=On(s);else{var c=o[a+1];i=i[u]=tr(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function ur(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],u=e[o];er(u)?n.get(u)||(n.set(u,!0),r[o]=Array.isArray(u)?[]:{},ur(u,t,n,r[o])):r[o]=t}return r}var sr=(0,t.createContext)(void 0);sr.displayName="FormikContext";sr.Provider,sr.Consumer;function cr(){var e=(0,t.useContext)(sr);return e||Kn(!1),e}function lr(e,t){switch(t.type){case"SET_VALUES":return Qn({},e,{values:t.payload});case"SET_TOUCHED":return Qn({},e,{touched:t.payload});case"SET_ERRORS":return a()(e.errors,t.payload)?e:Qn({},e,{errors:t.payload});case"SET_STATUS":return Qn({},e,{status:t.payload});case"SET_ISSUBMITTING":return Qn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Qn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Qn({},e,{values:or(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Qn({},e,{touched:or(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Qn({},e,{errors:or(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Qn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Qn({},e,{touched:ur(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Qn({},e,{isSubmitting:!1});default:return e}}var fr={},hr={};function dr(e){var n=e.validateOnChange,r=void 0===n||n,i=e.validateOnBlur,o=void 0===i||i,u=e.validateOnMount,s=void 0!==u&&u,c=e.isInitialValid,l=e.enableReinitialize,h=void 0!==l&&l,d=e.onSubmit,p=$n(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=Qn({validateOnChange:r,validateOnBlur:o,validateOnMount:s,onSubmit:d},p),y=(0,t.useRef)(v.initialValues),m=(0,t.useRef)(v.initialErrors||fr),g=(0,t.useRef)(v.initialTouched||hr),k=(0,t.useRef)(v.initialStatus),b=(0,t.useRef)(!1),w=(0,t.useRef)({});(0,t.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var _=(0,t.useReducer)(lr,{values:v.initialValues,errors:v.initialErrors||fr,touched:v.initialTouched||hr,status:v.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=_[0],x=_[1],I=(0,t.useCallback)((function(e,t){return new Promise((function(n,r){var i=v.validate(e,t);null==i?n(fr):ir(i)?i.then((function(e){n(e||fr)}),(function(e){r(e)})):n(i)}))}),[v.validate]),T=(0,t.useCallback)((function(e,t){var n=v.validationSchema,r=Zn(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=pr(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(fr)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return or(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;ar(t,o.path)||(t=or(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[v.validationSchema]),S=(0,t.useCallback)((function(e,t){return new Promise((function(n){return n(w.current[e].validate(t))}))}),[]),C=(0,t.useCallback)((function(e){var t=Object.keys(w.current).filter((function(e){return Zn(w.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,ar(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=or(e,t[r],n)),e}),{})}))}),[S]),A=(0,t.useCallback)((function(e){return Promise.all([C(e),v.validationSchema?T(e):{},v.validate?I(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return f.all([t,n,r],{arrayMerge:vr})}))}),[v.validate,v.validationSchema,C,I,T]),N=mr((function(e){return void 0===e&&(e=E.values),x({type:"SET_ISVALIDATING",payload:!0}),A(e).then((function(e){return b.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:e})),e}))}));(0,t.useEffect)((function(){s&&!0===b.current&&a()(y.current,v.initialValues)&&N(y.current)}),[s,N]);var R=(0,t.useCallback)((function(e){var t=e&&e.values?e.values:y.current,n=e&&e.errors?e.errors:m.current?m.current:v.initialErrors||{},r=e&&e.touched?e.touched:g.current?g.current:v.initialTouched||{},i=e&&e.status?e.status:k.current?k.current:v.initialStatus;y.current=t,m.current=n,g.current=r,k.current=i;var a=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(v.onReset){var o=v.onReset(E.values,$);ir(o)?o.then(a):a()}else a()}),[v.initialErrors,v.initialStatus,v.initialTouched]);(0,t.useEffect)((function(){!0!==b.current||a()(y.current,v.initialValues)||(h&&(y.current=v.initialValues,R()),s&&N(y.current))}),[h,v.initialValues,R,s,N]),(0,t.useEffect)((function(){h&&!0===b.current&&!a()(m.current,v.initialErrors)&&(m.current=v.initialErrors||fr,x({type:"SET_ERRORS",payload:v.initialErrors||fr}))}),[h,v.initialErrors]),(0,t.useEffect)((function(){h&&!0===b.current&&!a()(g.current,v.initialTouched)&&(g.current=v.initialTouched||hr,x({type:"SET_TOUCHED",payload:v.initialTouched||hr}))}),[h,v.initialTouched]),(0,t.useEffect)((function(){h&&!0===b.current&&!a()(k.current,v.initialStatus)&&(k.current=v.initialStatus,x({type:"SET_STATUS",payload:v.initialStatus}))}),[h,v.initialStatus,v.initialTouched]);var O=mr((function(e){if(w.current[e]&&Zn(w.current[e].validate)){var t=ar(E.values,e),n=w.current[e].validate(t);return ir(n)?(x({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),x({type:"SET_ISVALIDATING",payload:!1})}))):(x({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return v.validationSchema?(x({type:"SET_ISVALIDATING",payload:!0}),T(E.values,e).then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),x({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),P=(0,t.useCallback)((function(e,t){var n=t.validate;w.current[e]={validate:n}}),[]),D=(0,t.useCallback)((function(e){delete w.current[e]}),[]),L=mr((function(e,t){return x({type:"SET_TOUCHED",payload:e}),(void 0===t?o:t)?N(E.values):Promise.resolve()})),M=(0,t.useCallback)((function(e){x({type:"SET_ERRORS",payload:e})}),[]),F=mr((function(e,t){var n=Zn(e)?e(E.values):e;return x({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?N(n):Promise.resolve()})),U=(0,t.useCallback)((function(e,t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=mr((function(e,t,n){return x({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?N(or(E.values,e,t)):Promise.resolve()})),V=(0,t.useCallback)((function(e,t){var n,r=t,i=e;if(!nr(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,u=a.name,s=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(u||s),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(ar(E.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&j(r,i)}),[j,E.values]),q=mr((function(e){if(nr(e))return function(t){return V(t,e)};V(e)})),B=mr((function(e,t,n){return void 0===t&&(t=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?o:n)?N(E.values):Promise.resolve()})),z=(0,t.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));B(a,!0)}),[B]),W=mr((function(e){if(nr(e))return function(t){return z(t,e)};z(e)})),H=(0,t.useCallback)((function(e){Zn(e)?x({type:"SET_FORMIK_STATE",payload:e}):x({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),K=(0,t.useCallback)((function(e){x({type:"SET_STATUS",payload:e})}),[]),G=(0,t.useCallback)((function(e){x({type:"SET_ISSUBMITTING",payload:e})}),[]),Q=mr((function(){return x({type:"SUBMIT_ATTEMPT"}),N().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=J()))return}catch(r){throw r}return Promise.resolve(n).then((function(e){return b.current&&x({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(b.current)throw x({type:"SUBMIT_FAILURE"}),e}))}if(b.current&&(x({type:"SUBMIT_FAILURE"}),t))throw e}))})),Y=mr((function(e){e&&e.preventDefault&&Zn(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Zn(e.stopPropagation)&&e.stopPropagation(),Q().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:R,validateForm:N,validateField:O,setErrors:M,setFieldError:U,setFieldTouched:B,setFieldValue:j,setStatus:K,setSubmitting:G,setTouched:L,setValues:F,setFormikState:H,submitForm:Q},J=mr((function(){return d(E.values,$)})),X=mr((function(e){e&&e.preventDefault&&Zn(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&Zn(e.stopPropagation)&&e.stopPropagation(),R()})),Z=(0,t.useCallback)((function(e){return{value:ar(E.values,e),error:ar(E.errors,e),touched:!!ar(E.touched,e),initialValue:ar(y.current,e),initialTouched:!!ar(g.current,e),initialError:ar(m.current,e)}}),[E.errors,E.touched,E.values]),ee=(0,t.useCallback)((function(e){return{setValue:function(t,n){return j(e,t,n)},setTouched:function(t,n){return B(e,t,n)},setError:function(t){return U(e,t)}}}),[j,B,U]),te=(0,t.useCallback)((function(e){var t=er(e),n=t?e.name:e,r=ar(E.values,n),i={name:n,value:r,onChange:q,onBlur:W};if(t){var a=e.type,o=e.value,u=e.as,s=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===u&&s&&(i.value=i.value||[],i.multiple=!0)}return i}),[W,q,E.values]),ne=(0,t.useMemo)((function(){return!a()(y.current,E.values)}),[y.current,E.values]),re=(0,t.useMemo)((function(){return"undefined"!==typeof c?ne?E.errors&&0===Object.keys(E.errors).length:!1!==c&&Zn(c)?c(v):c:E.errors&&0===Object.keys(E.errors).length}),[c,ne,E.errors,v]);return Qn({},E,{initialValues:y.current,initialErrors:m.current,initialTouched:g.current,initialStatus:k.current,handleBlur:W,handleChange:q,handleReset:X,handleSubmit:Y,resetForm:R,setErrors:M,setFormikState:H,setFieldTouched:B,setFieldValue:j,setFieldError:U,setStatus:K,setSubmitting:G,setTouched:L,setValues:F,submitForm:Q,validateForm:N,validateField:O,isValid:re,dirty:ne,unregisterField:D,registerField:P,getFieldProps:te,getFieldMeta:Z,getFieldHelpers:ee,validateOnBlur:o,validateOnChange:r,validateOnMount:s})}function pr(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||P(e)?pr(e):""!==e?e:void 0})):P(e[r])?t[r]=pr(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function vr(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?f(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=f(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var yr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;function mr(e){var n=(0,t.useRef)(e);return yr((function(){n.current=e})),(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}(0,t.forwardRef)((function(e,n){var r=e.action,i=$n(e,["action"]),a=null!=r?r:"#",o=cr(),u=o.handleReset,s=o.handleSubmit;return(0,t.createElement)("form",Object.assign({onSubmit:s,ref:n,onReset:u,action:a},i))})).displayName="Form";var gr=function(e,t,n){var r=kr(e);return r.splice(t,0,n),r},kr=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Qn({},e,{length:t+1}))}return[]},br=function(e){function n(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,u=or(n.values,a,e(ar(n.values,a))),s=r?i(ar(n.errors,a)):void 0,c=t?o(ar(n.touched,a)):void 0;return Xn(s)&&(s=void 0),Xn(c)&&(c=void 0),Qn({},n,{values:u,errors:r?or(n.errors,a,s):n.errors,touched:t?or(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(kr(t),[Gn(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=kr(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=kr(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return gr(n,e,t)}),(function(t){return gr(t,e,null)}),(function(t){return gr(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=kr(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(Jn(n)),n.pop=n.pop.bind(Jn(n)),n}Yn(n,e);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!a()(ar(e.formik.values,e.name),ar(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?kr(n):[];return t||(t=r[e]),Zn(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,i=n.render,a=n.children,o=n.name,u=Qn({},e,{form:$n(n.formik,["validate","validationSchema"]),name:o});return r?(0,t.createElement)(r,u):i?i(u):a?"function"===typeof a?a(u):rr(a)?null:t.Children.only(a):null},n}(t.Component);br.defaultProps={validateOnChange:!0};t.Component,t.Component;function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t,n){return t&&Er(e.prototype,t),n&&Er(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t){if(e){if("string"===typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}function Sr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Tr(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Cr(e){if(Array.isArray(e))return e}function Ar(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nr(e,t){return Cr(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Tr(e,t)||Ar()}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e,t){return Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Or(e,t)}function Pr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dr(e)}function Lr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mr(e){return Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(e)}function Fr(e,t){if(t&&("object"===Mr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Ur(e){var t=Lr();return function(){var n,r=Dr(e);if(t){var i=Dr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Fr(this,n)}}function jr(e,t,n){return jr=Lr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Or(i,n.prototype),i},jr.apply(null,arguments)}function Vr(e){var t="function"===typeof Map?new Map:void 0;return Vr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return jr(e,arguments,Dr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Or(n,e)},Vr(e)}var qr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Br={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zr=function(e){return function(e){var t=qr(e);return Br.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wr=function(e){try{return Br.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Hr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Hr(e[n],t[n]));return e}var Kr=function(){function e(){var t=this;_r(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return xr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Gr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zr(JSON.stringify({alg:"none",type:"JWT"})),zr(JSON.stringify(a)),""].join(".")}function Qr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function $r(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Jr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Zr(){var e=Qr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ei(){return"object"===typeof indexedDB}var ti=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Rr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Rr(a),ni.prototype.create),a}return xr(n)}(Vr(Error)),ni=function(){function e(t,n,r){_r(this,e),this.service=t,this.serviceName=n,this.errors=r}return xr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ri(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ti(n,a,t);return o}}]),e}();function ri(e,t){return e.replace(ii,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ii=/\{\$([^}]+)}/g;function ai(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ui(u)&&ui(s)){if(!oi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ui(e){return null!==e&&"object"===typeof e}function si(e){for(var t=[],n=function(){var e=Nr(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ci(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Nr(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function li(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fi(e,t){var n=new hi(e,t);return n.subscribe.bind(n)}var hi=function(){function e(t,n){var r=this;_r(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return xr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Sr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=di),void 0===r.error&&(r.error=di),void 0===r.complete&&(r.complete=di);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function di(){}function pi(e){return e&&e._delegate?e._delegate:e}function vi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yi(e){return function(e){if(Array.isArray(e))return Ir(e)}(e)||vi(e)||Tr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function gi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){mi(a,r,i,o,u,"next",e)}function u(e){mi(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ki=n(757),bi=n.n(ki),wi=function(){function e(t,n,r){_r(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return xr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),_i="[DEFAULT]",Ei=function(){function e(t,n){_r(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return xr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Kr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch(s){}var t,n=Sr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Nr(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=gi(ki.mark((function e(){var t;return ki.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(yi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),yi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Sr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Nr(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Sr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(XI){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===_i?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(XI){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i;return this.component?this.component.multipleInstances?e:_i:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var xi,Ii,Ti=function(){function e(t){_r(this,e),this.name=t,this.providers=new Map}return xr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ei(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Si=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ii||(Ii={}));var Ci,Ai,Ni={debug:Ii.DEBUG,verbose:Ii.VERBOSE,info:Ii.INFO,warn:Ii.WARN,error:Ii.ERROR,silent:Ii.SILENT},Ri=Ii.INFO,Oi=(wr(xi={},Ii.DEBUG,"log"),wr(xi,Ii.VERBOSE,"log"),wr(xi,Ii.INFO,"info"),wr(xi,Ii.WARN,"warn"),wr(xi,Ii.ERROR,"error"),xi),Pi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Oi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Di=function(){function e(t){_r(this,e),this.name=t,this._logLevel=Ri,this._logHandler=Pi,this._userLogHandler=null,Si.push(this)}return xr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ii))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ni[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ii.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ii.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.INFO].concat(t)),this._logHandler.apply(this,[this,Ii.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.WARN].concat(t)),this._logHandler.apply(this,[this,Ii.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.ERROR].concat(t)),this._logHandler.apply(this,[this,Ii.ERROR].concat(t))}}]),e}();var Li=function(){function e(t){_r(this,e),this.container=t}return xr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Mi="@firebase/app",Fi="0.7.16",Ui=new Di("@firebase/app"),ji="[DEFAULT]",Vi=(wr(Ci={},Mi,"fire-core"),wr(Ci,"@firebase/app-compat","fire-core-compat"),wr(Ci,"@firebase/analytics","fire-analytics"),wr(Ci,"@firebase/analytics-compat","fire-analytics-compat"),wr(Ci,"@firebase/app-check","fire-app-check"),wr(Ci,"@firebase/app-check-compat","fire-app-check-compat"),wr(Ci,"@firebase/auth","fire-auth"),wr(Ci,"@firebase/auth-compat","fire-auth-compat"),wr(Ci,"@firebase/database","fire-rtdb"),wr(Ci,"@firebase/database-compat","fire-rtdb-compat"),wr(Ci,"@firebase/functions","fire-fn"),wr(Ci,"@firebase/functions-compat","fire-fn-compat"),wr(Ci,"@firebase/installations","fire-iid"),wr(Ci,"@firebase/installations-compat","fire-iid-compat"),wr(Ci,"@firebase/messaging","fire-fcm"),wr(Ci,"@firebase/messaging-compat","fire-fcm-compat"),wr(Ci,"@firebase/performance","fire-perf"),wr(Ci,"@firebase/performance-compat","fire-perf-compat"),wr(Ci,"@firebase/remote-config","fire-rc"),wr(Ci,"@firebase/remote-config-compat","fire-rc-compat"),wr(Ci,"@firebase/storage","fire-gcs"),wr(Ci,"@firebase/storage-compat","fire-gcs-compat"),wr(Ci,"@firebase/firestore","fire-fst"),wr(Ci,"@firebase/firestore-compat","fire-fst-compat"),wr(Ci,"fire-js","fire-js"),wr(Ci,"firebase","fire-js-all"),Ci),qi=new Map,Bi=new Map;function zi(e,t){try{e.container.addComponent(t)}catch(n){Ui.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wi(e,t){e.container.addOrOverwriteComponent(t)}function Hi(e){var t=e.name;if(Bi.has(t))return Ui.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bi.set(t,e);var n,r=Sr(qi.values());try{for(r.s();!(n=r.n()).done;){zi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ki(e,t){return e.container.getProvider(t)}function Gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ji;Ki(e,t).clearInstance(n)}function Qi(){Bi.clear()}var Yi,$i,Ji=(wr(Ai={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),wr(Ai,"bad-app-name","Illegal App name: '{$appName}"),wr(Ai,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),wr(Ai,"app-deleted","Firebase App named '{$appName}' already deleted"),wr(Ai,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wr(Ai,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ai),Xi=new ni("app","Firebase",Ji),Zi=function(){function e(t,n,r){var i=this;_r(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wi("app",(function(){return i}),"PUBLIC"))}return xr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}]),e}(),ea="9.6.6";function ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ji,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Xi.create("bad-app-name",{appName:String(i)});var a=qi.get(i);if(a){if(oi(e,a.options)&&oi(r,a.config))return a;throw Xi.create("duplicate-app",{appName:i})}var o,u=new Ti(i),s=Sr(Bi.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Zi(e,r,u);return qi.set(i,l),l}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji,t=qi.get(e);if(!t)throw Xi.create("no-app",{appName:e});return t}function ra(){return Array.from(qi.values())}function ia(e){return aa.apply(this,arguments)}function aa(){return(aa=gi(ki.mark((function e(t){var n;return ki.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!qi.has(n)){e.next=6;break}return qi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t,n){var r,i=null!==(r=Vi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ui.warn(u.join(" "))}Hi(new wi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ua(e,t){if(null!==e&&"function"!==typeof e)throw Xi.create("invalid-log-argument");!function(e,t){var n,r=Sr(Si);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ni[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ii[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function sa(e){var t;t=e,Si.forEach((function(e){e.setLogLevel(t)}))}Yi="",Hi(new wi("platform-logger",(function(e){return new Li(e)}),"PRIVATE")),oa(Mi,Fi,Yi),oa(Mi,Fi,"esm2017"),oa("fire-js","");var ca=function(){function e(t,n){var r=this;_r(this,e),this._delegate=t,this.firebase=n,zi(t,new wi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return xr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ia(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ji;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){zi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Wi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),la=(wr($i={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),wr($i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$i),fa=new ni("app-compat","Firebase",la);var ha=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=ta(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ai(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:oa,setLogLevel:sa,onLog:ua,apps:null,SDK_VERSION:ea,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Hi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw fa.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Hr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ai(n,e=e||ji))throw fa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ca);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Hr(n,e)},createSubscribe:fi,ErrorFactory:ni,deepExtend:Hr}),n}(),da=new Di("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){da.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var pa=self.firebase.SDK_VERSION;pa&&pa.indexOf("LITE")>=0&&da.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var va=ha;!function(e){oa("@firebase/app-compat","0.1.17",e)}();function ya(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dr(e)););return e}function ma(){return ma="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ya(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ma.apply(this,arguments)}va.registerVersion("firebase","9.6.6","app-compat");function ga(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ka;Object.create;var ba="facebook.com",wa="github.com",_a="google.com",Ea="password",xa="twitter.com",Ia="EMAIL_SIGNIN",Ta="PASSWORD_RESET",Sa="RECOVER_EMAIL",Ca="REVERT_SECOND_FACTOR_ADDITION",Aa="VERIFY_AND_CHANGE_EMAIL",Na="VERIFY_EMAIL";function Ra(){return wr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Oa=function(){var e;return wr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),wr(e,"argument-error",""),wr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),wr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),wr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),wr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),wr(e,"cordova-not-ready","Cordova framework is not ready."),wr(e,"cors-unsupported","This browser is not supported."),wr(e,"credential-already-in-use","This credential is already associated with a different user account."),wr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),wr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),wr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),wr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),wr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),wr(e,"email-already-in-use","The email address is already in use by another account."),wr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),wr(e,"expired-action-code","The action code has expired."),wr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),wr(e,"internal-error","An internal AuthError has occurred."),wr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),wr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),wr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),wr(e,"invalid-auth-event","An internal AuthError has occurred."),wr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),wr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),wr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),wr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),wr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),wr(e,"invalid-email","The email address is badly formatted."),wr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),wr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),wr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),wr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),wr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),wr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),wr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),wr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),wr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),wr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),wr(e,"wrong-password","The password is invalid or the user does not have a password."),wr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),wr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),wr(e,"invalid-provider-id","The specified provider ID is invalid."),wr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),wr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),wr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),wr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),wr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),wr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),wr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),wr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),wr(e,"missing-continue-uri","A continue URL must be provided in the request."),wr(e,"missing-iframe-start","An internal AuthError has occurred."),wr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),wr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),wr(e,"missing-multi-factor-info","No second factor identifier is provided."),wr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),wr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),wr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),wr(e,"app-deleted","This instance of FirebaseApp has been deleted."),wr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),wr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),wr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),wr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),wr(e,"no-auth-event","An internal AuthError has occurred."),wr(e,"no-such-provider","User was not linked to an account with the given provider."),wr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),wr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),wr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),wr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),wr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),wr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),wr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),wr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),wr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),wr(e,"rejected-credential","The request contains malformed or mismatching credentials."),wr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),wr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),wr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),wr(e,"timeout","The operation has timed out."),wr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),wr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),wr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),wr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),wr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),wr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),wr(e,"unverified-email","The operation requires a verified email."),wr(e,"user-cancelled","The user did not grant your application the permissions it requested."),wr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),wr(e,"user-disabled","The user account has been disabled by an administrator."),wr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),wr(e,"user-signed-out",""),wr(e,"weak-password","The password must be 6 characters long or more."),wr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),wr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Pa=Ra,Da=new ni("auth","Firebase",Ra()),La=new Di("@firebase/auth");function Ma(e){if(La.logLevel<=Ii.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];La.error.apply(La,["Auth (".concat(ea,"): ").concat(e)].concat(n))}}function Fa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qa.apply(void 0,[e].concat(n))}function Ua(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qa.apply(void 0,[e].concat(n))}function ja(e,t,n){var r=Object.assign(Object.assign({},Pa()),wr({},t,n));return new ni("auth","Firebase",r).create(t,{appName:e.name})}function Va(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Fa(e,"argument-error"),ja(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=yi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(yi(o)))}return Da.create.apply(Da,[e].concat(n))}function Ba(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qa.apply(void 0,[t].concat(r))}}function za(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ma(t),new Error(t)}function Wa(e,t){e||za(t)}var Ha=new Map;function Ka(e){Wa(e instanceof Function,"Expected a class definition");var t=Ha.get(e);return t?(Wa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ha.set(e,t),t)}function Ga(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qa(){return"http:"===Ya()||"https:"===Ya()}function Ya(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $a=function(){function e(t,n){_r(this,e),this.shortDelay=t,this.longDelay=n,Wa(n>t,"Short delay should be less than long delay!"),this.isMobile=Yr()||Xr()}return xr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qa()||Jr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ja(e,t){Wa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Xa=function(){function e(){_r(this,e)}return xr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Za=(wr(ka={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),wr(ka,"MISSING_CUSTOM_TOKEN","internal-error"),wr(ka,"INVALID_IDENTIFIER","invalid-email"),wr(ka,"MISSING_CONTINUE_URI","internal-error"),wr(ka,"INVALID_PASSWORD","wrong-password"),wr(ka,"MISSING_PASSWORD","internal-error"),wr(ka,"EMAIL_EXISTS","email-already-in-use"),wr(ka,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),wr(ka,"INVALID_IDP_RESPONSE","invalid-credential"),wr(ka,"INVALID_PENDING_TOKEN","invalid-credential"),wr(ka,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),wr(ka,"MISSING_REQ_TYPE","internal-error"),wr(ka,"EMAIL_NOT_FOUND","user-not-found"),wr(ka,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),wr(ka,"EXPIRED_OOB_CODE","expired-action-code"),wr(ka,"INVALID_OOB_CODE","invalid-action-code"),wr(ka,"MISSING_OOB_CODE","internal-error"),wr(ka,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),wr(ka,"INVALID_ID_TOKEN","invalid-user-token"),wr(ka,"TOKEN_EXPIRED","user-token-expired"),wr(ka,"USER_NOT_FOUND","user-token-expired"),wr(ka,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),wr(ka,"INVALID_CODE","invalid-verification-code"),wr(ka,"INVALID_SESSION_INFO","invalid-verification-id"),wr(ka,"INVALID_TEMPORARY_PROOF","invalid-credential"),wr(ka,"MISSING_SESSION_INFO","missing-verification-id"),wr(ka,"SESSION_EXPIRED","code-expired"),wr(ka,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),wr(ka,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),wr(ka,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),wr(ka,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),wr(ka,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),wr(ka,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),wr(ka,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),wr(ka,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),wr(ka,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),wr(ka,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),wr(ka,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ka),eo=new $a(3e4,6e4);function to(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function no(e,t,n,r){return ro.apply(this,arguments)}function ro(){return ro=gi(bi().mark((function e(t,n,r,i){var a,o=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",io(t,a,gi(bi().mark((function e(){var a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=si(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Xa.fetch()(so(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t,n){return ao.apply(this,arguments)}function ao(){return(ao=gi(bi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Za),n),e.prev=2,a=new co(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw lo(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Nr(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw lo(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw lo(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw ja(t,d,h);case 30:Fa(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ti)){e.next=37;break}throw e.t0;case 37:Fa(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function oo(e,t,n,r){return uo.apply(this,arguments)}function uo(){return uo=gi(bi().mark((function e(t,n,r,i){var a,o,u=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,no(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Fa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ja(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var co=function(){function e(t){var n=this;_r(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ua(n.auth,"network-request-failed"))}),eo.get())}))}return xr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function lo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ua(e,t,r);return i.customData._tokenResponse=n,i}function fo(e,t){return ho.apply(this,arguments)}function ho(){return(ho=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return(vo=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return mo.apply(this,arguments)}function mo(){return(mo=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ko(){return ko=gi(bi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=pi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ba((a=wo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:go(bo(a.auth_time)),issuedAtTime:go(bo(a.iat)),expirationTime:go(bo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e){return 1e3*Number(e)}function wo(e){var t=Nr(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ma("JWT malformed, contained fewer than 3 sections"),null;try{var a=Wr(r);return a?JSON.parse(a):(Ma("Failed to decode base64 JWT payload"),null)}catch(o){return Ma("Caught error parsing JWT payload as JSON",o),null}}function _o(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=gi(bi().mark((function e(t,n){var r=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ti&&xo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Eo.apply(this,arguments)}function xo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Io=function(){function e(t){_r(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return xr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),To=function(){function e(t,n){_r(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return xr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=go(this.lastLoginAt),this.creationTime=go(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function So(e){return Co.apply(this,arguments)}function Co(){return Co=gi(bi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,_o(t,yo(r,{idToken:i}));case 6:Ba(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ro(o.providerUserInfo):[],s=No(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new To(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function Ao(){return(Ao=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pi(t),e.next=3,So(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(yi(n),yi(t))}function Ro(e){return e.map((function(e){var t=e.providerId,n=ga(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Oo(e,t){return Po.apply(this,arguments)}function Po(){return(Po=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(t,{},gi(bi().mark((function e(){var r,i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=si({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=so(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Xa.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Do=function(){function e(){_r(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return xr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ba(e.idToken,"internal-error"),Ba("undefined"!==typeof e.idToken,"internal-error"),Ba("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=wo(e);return Ba(t,"internal-error"),Ba("undefined"!==typeof t.exp,"internal-error"),Ba("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=gi(bi().mark((function e(t){var n,r=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ba(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return za("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ba("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ba("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ba("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Lo(e,t){Ba("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Mo=function(){function e(t){_r(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ga(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?yi(a.providerData):[],this.metadata=new To(a.createdAt||void 0,a.lastLoginAt||void 0)}return xr(e,[{key:"getIdToken",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ba(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ko.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ao.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ba(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Ba(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=gi(bi().mark((function e(t){var n,r,i=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,So(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,_o(this,fo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,E=n.stsTokenManager;Ba(k&&E,t,"internal-error");var x=Do.fromJSON(this.name,E);Ba("string"===typeof k,t,"internal-error"),Lo(f,t.name),Lo(h,t.name),Ba("boolean"===typeof b,t,"internal-error"),Ba("boolean"===typeof w,t,"internal-error"),Lo(d,t.name),Lo(p,t.name),Lo(v,t.name),Lo(y,t.name),Lo(m,t.name),Lo(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(I._redirectEventId=y),I}},{key:"_fromIdTokenResponse",value:function(){var t=gi(bi().mark((function t(n,r){var i,a,o,u=arguments;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Do).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,So(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Fo=function(){function e(){_r(this,e),this.type="NONE",this.storage={}}return xr(e,[{key:"_isAvailable",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Fo.type="NONE";var Uo=Fo;function jo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Vo=function(){function e(t,n,r){_r(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=jo(this.userKey,a.apiKey,o),this.fullPersistenceKey=jo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return xr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Mo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=gi(bi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ka(Uo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ka(Uo),u=jo(i,n.config.apiKey,n.name),s=null,c=Sr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Mo._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ho(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Bo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Go(t))return"Blackberry";if(Qo(t))return"Webos";if(zo(t))return"Safari";if((t.includes("chrome/")||Wo(t))&&!t.includes("edge/"))return"Chrome";if(Ko(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/firefox\//i.test(e)}function zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/crios\//i.test(e)}function Ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/iemobile/i.test(e)}function Ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/android/i.test(e)}function Go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/blackberry/i.test(e)}function Qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/webos/i.test(e)}function Yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/iphone|ipad|ipod/i.test(e)}function $o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return Yo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Jo(){return Zr()&&10===document.documentMode}function Xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return Yo(e)||Ko(e)||Qo(e)||Go(e)||/windows phone/i.test(e)||Ho(e)}function Zo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qo(Qr());break;case"Worker":t="".concat(qo(Qr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ea,"/").concat(r)}var eu=function(){function e(t,n){_r(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nu(this),this.idTokenSubscription=new nu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Da,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return xr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ka(t)),this._initializationPromise=this.queue(gi(bi().mark((function r(){var i,a;return bi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Vo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=gi(bi().mark((function e(t){var n,r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Ba(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,So(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?pi(t):null)&&Ba(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=gi(bi().mark((function e(t){var n=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Ba(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(gi(bi().mark((function n(){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ka(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ni("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ba(n=t&&Ka(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Vo.create(this,[Ka(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=gi(bi().mark((function e(t){var n=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ba(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ba(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=wr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function tu(e){return pi(e)}var nu=function(){function e(t){var n=this;_r(this,e),this.auth=t,this.observer=null,this.addObserver=fi((function(e){return n.observer=e}))}return xr(e,[{key:"next",get:function(){return Ba(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ru(e,t,n){var r=tu(e);Ba(r._canInitEmulator,r,"emulator-config-failed"),Ba(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=iu(t),o=function(e){var t=iu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:au(r.substr(a.length+1))}}var o=Nr(r.split(":"),2);return{host:o[0],port:au(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function iu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function au(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ou=function(){function e(t,n){_r(this,e),this.providerId=t,this.signInMethod=n}return xr(e,[{key:"toJSON",value:function(){return za("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return za("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return za("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return za("not implemented")}}]),e}();function uu(e,t){return su.apply(this,arguments)}function su(){return(su=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:resetPassword",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:update",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return(pu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithPassword",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){return yu.apply(this,arguments)}function yu(){return(yu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:sendOobCode",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return(bu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e,t){return _u.apply(this,arguments)}function _u(){return(_u=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){return xu.apply(this,arguments)}function xu(){return(xu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithEmailLink",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithEmailLink",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Au=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _r(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return xr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",du(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Iu(t,{email:this._email,oobCode:this._password}));case 5:Fa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",cu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Su(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Fa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ou);function Nu(e,t){return Ru.apply(this,arguments)}function Ru(){return(Ru=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithIdp",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ou=function(e){Pr(n,e);var t=Ur(n);function n(){var e;return _r(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return xr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Nu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Nu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Nu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=si(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ga(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ou);function Pu(e,t){return Du.apply(this,arguments)}function Du(){return(Du=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:sendVerificationCode",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(){return(Lu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithPhoneNumber",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mu(){return(Mu=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(t,"POST","/v1/accounts:signInWithPhoneNumber",to(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw lo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fu=wr({},"USER_NOT_FOUND","user-not-found");function Uu(){return(Uu=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithPhoneNumber",to(t,r),Fu));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ju=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this,"phone","phone")).params=e,r}return xr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Lu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Mu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Uu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ou);var Vu=function(){function e(t){var n,r,i,a,o,u;_r(this,e);var s=ci(li(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ba(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return xr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ci(li(e)).link,n=t?ci(li(t)).deep_link_id:null,r=ci(li(e)).deep_link_id;return(r?ci(li(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(XI){return null}}}]),e}();var qu=function(){function e(){_r(this,e),this.providerId=e.PROVIDER_ID}return xr(e,null,[{key:"credential",value:function(e,t){return Au._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Vu.parseLink(t);return Ba(n,"argument-error"),Au._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();qu.PROVIDER_ID="password",qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Bu=function(){function e(t){_r(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return xr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),zu=function(e){Pr(n,e);var t=Ur(n);function n(){var e;return _r(this,n),(e=t.apply(this,arguments)).scopes=[],e}return xr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return yi(this.scopes)}}]),n}(Bu),Wu=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ba(e.idToken||e.accessToken,"argument-error"),Ou._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ba("providerId"in t&&"signInMethod"in t,"argument-error"),Ou._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(zu),Hu=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.call(this,"facebook.com")}return xr(n,null,[{key:"credential",value:function(e){return Ou._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(XI){return null}}}]),n}(zu);Hu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hu.PROVIDER_ID="facebook.com";var Ku=function(e){Pr(n,e);var t=Ur(n);function n(){var e;return _r(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return xr(n,null,[{key:"credential",value:function(e,t){return Ou._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(XI){return null}}}]),n}(zu);Ku.GOOGLE_SIGN_IN_METHOD="google.com",Ku.PROVIDER_ID="google.com";var Gu=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.call(this,"github.com")}return xr(n,null,[{key:"credential",value:function(e){return Ou._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(XI){return null}}}]),n}(zu);Gu.GITHUB_SIGN_IN_METHOD="github.com",Gu.PROVIDER_ID="github.com";var Qu=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return xr(n,[{key:"_getIdTokenResponse",value:function(e){return Nu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Nu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Nu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ou),Yu=function(e){Pr(n,e);var t=Ur(n);function n(e){return _r(this,n),Ba(e.startsWith("saml."),"argument-error"),t.call(this,e)}return xr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Qu.fromJSON(e);return Ba(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Qu._create(r,n)}catch(i){return null}}}]),n}(Bu),$u=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.call(this,"twitter.com")}return xr(n,null,[{key:"credential",value:function(e,t){return Ou._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(XI){return null}}}]),n}(zu);function Ju(e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signUp",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$u.TWITTER_SIGN_IN_METHOD="twitter.com",$u.PROVIDER_ID="twitter.com";var Zu=function(){function e(t){_r(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return xr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=gi(bi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Mo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=es(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=gi(bi().mark((function t(n,r,i){var a;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=es(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function es(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ts(){return ts=gi(bi().mark((function e(t){var n,r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Zu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ju(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Zu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}var ns=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a){var o,u;return _r(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Rr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return xr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ti);function rs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ns._fromErrorAndOperation(e,n,t,r);throw n}))}function is(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function as(e,t){return os.apply(this,arguments)}function os(){return os=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pi(t),e.next=3,cs(!0,r,n);case 3:return e.t0=po,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=is(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return ss=gi(bi().mark((function e(t,n){var r,i,a=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=_o,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Zu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function cs(e,t,n){return ls.apply(this,arguments)}function ls(){return(ls=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,So(n);case 2:i=is(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ba(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=gi(bi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,_o(t,rs(i,a,n,t),r);case 6:return Ba((o=e.sent).idToken,i,"internal-error"),Ba(u=wo(o.idToken),i,"internal-error"),s=u.sub,Ba(t.uid===s,i,"user-mismatch"),e.abrupt("return",Zu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Fa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=gi(bi().mark((function e(t,n){var r,i,a,o,u=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,rs(t,i,n);case 4:return a=e.sent,e.next=7,Zu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){return ys.apply(this,arguments)}function ys(){return(ys=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ds(tu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e,t){return gs.apply(this,arguments)}function gs(){return(gs=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pi(t),e.next=3,cs(!1,r,n.providerId);case 3:return e.abrupt("return",us(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return(bs=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fs(pi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t){return _s.apply(this,arguments)}function _s(){return(_s=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oo(t,"POST","/v1/accounts:signInWithCustomToken",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(){return(Es=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tu(t),e.next=3,ws(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Zu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xs=function(){function e(t,n){_r(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return xr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Is._fromServerResponse(e,t):Fa(e,"internal-error")}}]),e}(),Is=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return xr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(xs);function Ts(e,t,n){var r;Ba((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ba("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ba(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ba(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ss(){return(Ss=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pi(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ts(i,a,r),e.next=5,ku(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(){return(Cs=gi(bi().mark((function e(t,n,r){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uu(pi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(){return(As=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fu(pi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return(Rs=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pi(t),e.next=3,uu(r,{oobCode:n});case 3:i=e.sent,Ba(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ba(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ba(i.mfaInfo,r,"internal-error");case 13:Ba(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=xs._fromServerResponse(tu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(){return(Os=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(pi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(e,t,n){return Ds.apply(this,arguments)}function Ds(){return(Ds=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tu(t),e.next=3,Ju(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Zu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(){return(Ls=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pi(t),a={requestType:"EMAIL_SIGNIN",email:n},Ba(r.handleCodeInApp,i,"argument-error"),r&&Ts(i,a,r),e.next=6,wu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(){return(Ms=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pi(t),Ba((a=qu.credentialWithLink(n,r||Ga()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",vs(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:createAuthUri",to(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(){return(js=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qa()?Ga():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Fs(pi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(){return(Vs=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ts(r.auth,a,n),e.next=8,mu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(){return(qs=gi(bi().mark((function e(t,n,r){var i,a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ts(i.auth,o,r),e.next=8,Eu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e,t){return zs.apply(this,arguments)}function zs(){return(zs=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",no(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(){return(Ws=gi(bi().mark((function e(t,n){var r,i,a,o,u,s,c;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=pi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,_o(a,Bs(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t,n){return Ks.apply(this,arguments)}function Ks(){return(Ks=gi(bi().mark((function e(t,n,r){var i,a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,_o(t,cu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gs=xr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_r(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Qs=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a){var o;return _r(this,n),(o=t.call(this,e,r,i)).username=a,o}return xr(n)}(Gs),Ys=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"facebook.com",r)}return xr(n)}(Gs),$s=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return xr(n)}(Qs),Js=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"google.com",r)}return xr(n)}(Gs),Xs=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){return _r(this,n),t.call(this,e,"twitter.com",r,i)}return xr(n)}(Qs);function Zs(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=wo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Gs(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ys(a,i);case"github.com":return new $s(a,i);case"google.com":return new Js(a,i);case"twitter.com":return new Xs(a,i,e.screenName||null);case"custom":case"anonymous":return new Gs(a,null);default:return new Gs(a,r,i)}}(n)}var ec=function(){function e(t,n){_r(this,e),this.type=t,this.credential=n}return xr(e,[{key:"toJSON",value:function(){return{multiFactorSession:wr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),tc=function(){function e(t,n,r){_r(this,e),this.session=t,this.hints=n,this.signInResolver=r}return xr(e,[{key:"resolveSignIn",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=tu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return xs._fromServerResponse(r,e)}));Ba(i.mfaPendingCredential,r,"internal-error");var o=ec._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=gi(bi().mark((function e(t){var a,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Zu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ba(n.user,r,"internal-error"),e.abrupt("return",Zu._forOperation(n.user,n.operationType,u));case 17:Fa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function nc(e,t){return no(e,"POST","/v2/accounts/mfaEnrollment:start",to(e,t))}var rc=function(){function e(t){var n=this;_r(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return xs._fromServerResponse(t.auth,e)})))}))}return xr(e,[{key:"getSession",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ec,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,_o(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=gi(bi().mark((function e(t){var n,r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,_o(this.user,no(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",to(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ic=new WeakMap;var ac="__sak",oc=function(){function e(t,n){_r(this,e),this.storageRetriever=t,this.type=n}return xr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch(XI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var uc=function(e){Pr(n,e);var t=Ur(n);function n(){var e;return _r(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Qr();return zo(e)||Yo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Xo(),e._shouldAllowMigration=!0,e}return xr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Jo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=gi(bi().mark((function e(t,r){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(Dr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=gi(bi().mark((function e(t){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(Dr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(Dr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(oc);uc.type="LOCAL";var sc=uc,cc=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return xr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(oc);cc.type="SESSION";var lc=cc;function fc(e){return Promise.all(e.map(function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var hc=function(){function e(t){_r(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return xr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=gi(bi().mark((function e(t){var n,r,i,a,o,u,s,c;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,fc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function dc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hc.receivers=[];var pc=function(){function e(t){_r(this,e),this.target=t,this.handlers=new Set}return xr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=gi(bi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=dc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function vc(){return window}function yc(){return"undefined"!==typeof vc().WorkerGlobalScope&&"function"===typeof vc().importScripts}function mc(){return gc.apply(this,arguments)}function gc(){return(gc=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function kc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bc="firebaseLocalStorageDb",wc="firebaseLocalStorage",_c="fbase_key",Ec=function(){function e(t){_r(this,e),this.request=t}return xr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xc(e,t){return e.transaction([wc],t?"readwrite":"readonly").objectStore(wc)}function Ic(){var e=indexedDB.deleteDatabase(bc);return new Ec(e).toPromise()}function Tc(){var e=indexedDB.open(bc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(wc,{keyPath:_c})}catch(r){n(r)}})),e.addEventListener("success",gi(bi().mark((function n(){var r;return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(wc)){n.next=12;break}return r.close(),n.next=5,Ic();case 5:return n.t0=t,n.next=8,Tc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Sc(e,t,n){return Cc.apply(this,arguments)}function Cc(){return Cc=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xc(t,!0).put((wr(i={},_c,n),wr(i,"value",r),i)),e.abrupt("return",new Ec(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc(t,!1).get(n),e.next=3,new Ec(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Rc(e,t){var n=xc(e,!0).delete(t);return new Ec(n).toPromise()}var Oc=function(){function e(){_r(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return xr(e,[{key:"_openDb",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Tc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=gi(bi().mark((function e(){var t=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=hc._getInstance(yc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=gi(bi().mark((function e(n,r){var i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=gi(bi().mark((function e(){var t,n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new pc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&kc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Tc();case 5:return t=e.sent,e.next=8,Sc(t,ac,"1");case 8:return e.next=10,Rc(t,ac);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=gi(bi().mark((function e(t,n){var r=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Sc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ac(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=gi(bi().mark((function e(t){var n=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Rc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=gi(bi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xc(e,!1).getAll();return new Ec(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Sr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Oc.type="LOCAL";var Pc=Oc;function Dc(e,t){return no(e,"POST","/v2/accounts/mfaSignIn:start",to(e,t))}function Lc(e){return Mc.apply(this,arguments)}function Mc(){return(Mc=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,no(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ua("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Uc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var jc=1e12,Vc=function(){function e(t){_r(this,e),this.auth=t,this.counter=jc,this._widgets=new Map}return xr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||jc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||jc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||jc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qc=function(){function e(t,n,r){var i=this;_r(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ba(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return xr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Bc=Uc("rcb"),zc=new $a(3e4,6e4),Wc="https://www.google.com/recaptcha/api.js?",Hc=function(){function e(){_r(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vc().grecaptcha}return xr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ba(Kc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(vc().grecaptcha):new Promise((function(r,i){var a=vc().setTimeout((function(){i(Ua(e,"network-request-failed"))}),zc.get());vc()[Bc]=function(){vc().clearTimeout(a),delete vc()[Bc];var o=vc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ua(e,"internal-error"))},Fc("".concat(Wc,"?").concat(si({onload:Bc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ua(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!vc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Kc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Gc=function(){function e(){_r(this,e)}return xr(e,[{key:"load",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Vc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Qc="recaptcha",Yc={theme:"light",type:"image"},$c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Yc),r=arguments.length>2?arguments[2]:void 0;_r(this,e),this.parameters=n,this.type=Qc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tu(r),this.isInvisible="invisible"===this.parameters.size,Ba("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ba(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gc:new Hc,this.validateStartingState()}return xr(e,[{key:"verify",value:function(){var e=gi(bi().mark((function e(){var t,n,r,i=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ba(!this.parameters.sitekey,this.auth,"argument-error"),Ba(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ba("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=vc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ba(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=gi(bi().mark((function e(){var t,n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ba(Qa()&&!yc(),this.auth,"internal-error"),e.next=3,Jc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Lc(this.auth);case 8:Ba(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ba(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Jc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Xc=function(){function e(t,n){_r(this,e),this.verificationId=t,this.onConfirmation=n}return xr(e,[{key:"confirm",value:function(e){var t=ju._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Zc(){return(Zc=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tu(t),e.next=3,rl(i,n,pi(r));case 3:return a=e.sent,e.abrupt("return",new Xc(a,(function(e){return vs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t,n){return tl.apply(this,arguments)}function tl(){return(tl=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pi(t),e.next=3,cs(!1,i,"phone");case 3:return e.next=5,rl(i.auth,n,pi(r));case 5:return a=e.sent,e.abrupt("return",new Xc(a,(function(e){return ms(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(){return(nl=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pi(t),e.next=3,rl(i.auth,n,pi(r));case 3:return a=e.sent,e.abrupt("return",new Xc(a,(function(e){return ks(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e,t,n){return il.apply(this,arguments)}function il(){return il=gi(bi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ba("string"===typeof a,t,"argument-error"),Ba(r.type===Qc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ba("enroll"===u.type,t,"internal-error"),e.next=13,nc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ba("signin"===u.type,t,"internal-error"),Ba(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Dc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Pu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),il.apply(this,arguments)}function al(){return(al=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us(pi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ol=function(){function e(t){_r(this,e),this.providerId=e.PROVIDER_ID,this.auth=tu(t)}return xr(e,[{key:"verifyPhoneNumber",value:function(e,t){return rl(this.auth,e,pi(t))}}],[{key:"credential",value:function(e,t){return ju._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ju._fromTokenResponse(n,r):null}}]),e}();function ul(e,t){return t?Ka(t):(Ba(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ol.PROVIDER_ID="phone",ol.PHONE_SIGN_IN_METHOD="phone";var sl=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this,"custom","custom")).params=e,r}return xr(n,[{key:"_getIdTokenResponse",value:function(e){return Nu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Nu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Nu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ou);function cl(e){return ds(e.auth,new sl(e),e.bypassAuthState)}function ll(e){var t=e.auth,n=e.user;return Ba(n,t,"internal-error"),fs(n,new sl(e),e.bypassAuthState)}function fl(e){return hl.apply(this,arguments)}function hl(){return(hl=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ba(r=t.user,n,"internal-error"),e.abrupt("return",us(r,new sl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_r(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return xr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=gi(bi().mark((function t(n,r){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=gi(bi().mark((function e(t){var n,r,i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cl;case"linkViaPopup":case"linkViaRedirect":return fl;case"reauthViaPopup":case"reauthViaRedirect":return ll;default:Fa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),pl=new $a(2e3,1e4);function vl(e,t,n){return yl.apply(this,arguments)}function yl(){return(yl=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tu(t),Va(t,n,Bu),a=ul(i,r),o=new bl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(){return(ml=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va((i=pi(t)).auth,n,Bu),a=ul(i.auth,r),o=new bl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gl(e,t,n){return kl.apply(this,arguments)}function kl(){return(kl=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va((i=pi(t)).auth,n,Bu),a=ul(i.auth,r),o=new bl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bl=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a,o){var u;return _r(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Rr(u),u}return xr(n,[{key:"executeNotNull",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ba(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=gi(bi().mark((function e(){var t,n=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wa(1===this.filter.length,"Popup operations only handle one event"),t=dc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ua(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ua(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ua(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,pl.get())}()}}]),n}(dl);bl.currentPopupAction=null;var wl=new Map,_l=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _r(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return xr(n,[{key:"execute",value:function(){var e=gi(bi().mark((function e(){var t,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,El(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ma(Dr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:wl.set(this.auth._key(),t);case 21:return this.bypassAuthState||wl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=gi(bi().mark((function e(t){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ma(Dr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ma(Dr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(dl);function El(e,t){return xl.apply(this,arguments)}function xl(){return(xl=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cl(n),i=Sl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Il(e,t){return Tl.apply(this,arguments)}function Tl(){return(Tl=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sl(t)._set(Cl(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(e){return Ka(e._redirectPersistence)}function Cl(e){return jo("pendingRedirect",e.config.apiKey,e.name)}function Al(e,t,n){return function(e,t,n){return Nl.apply(this,arguments)}(e,t,n)}function Nl(){return(Nl=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tu(t),Va(t,n,Bu),a=ul(i,r),e.next=5,Il(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t,n){return function(e,t,n){return Ol.apply(this,arguments)}(e,t,n)}function Ol(){return(Ol=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va((i=pi(t)).auth,n,Bu),a=ul(i.auth,r),e.next=5,Il(a,i.auth);case 5:return e.next=7,jl(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pl(e,t,n){return function(e,t,n){return Dl.apply(this,arguments)}(e,t,n)}function Dl(){return(Dl=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va((i=pi(t)).auth,n,Bu),a=ul(i.auth,r),e.next=5,cs(!1,i,n.providerId);case 5:return e.next=7,Il(a,i.auth);case 7:return e.next=9,jl(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(t)._initializationPromise;case 2:return e.abrupt("return",Fl(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=gi(bi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=tu(t),a=ul(i,n),o=new _l(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(e){return Vl.apply(this,arguments)}function Vl(){return(Vl=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ql=function(){function e(t){_r(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return xr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!zl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ua(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Bl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Bl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function zl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Wl(e){return Hl.apply(this,arguments)}function Hl(){return Hl=gi(bi().mark((function e(t){var n,r=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",no(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}var Kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gl=/^https?/;function Ql(){return(Ql=gi(bi().mark((function e(t){var n,r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wl(t);case 4:n=e.sent,r=n.authorizedDomains,i=Sr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Yl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Fa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Yl(e){var t=Ga(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Gl.test(r))return!1;if(Kl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var $l=new $a(3e4,6e4);function Jl(){var e=vc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=yi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Xl=null;function Zl(e){return Xl=Xl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Jl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Jl(),n(Ua(e,"network-request-failed"))},timeout:$l.get()})}if(null===(i=null===(r=vc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=vc().gapi)||void 0===a?void 0:a.load)){var u=Uc("iframefcb");return vc()[u]=function(){gapi.load?o():n(Ua(e,"network-request-failed"))},Fc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Xl=null,e}))}(e),Xl}var ef=new $a(5e3,15e3),tf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rf(e){var t=e.config;Ba(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ja(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ea},i=nf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(si(r).slice(1))}function af(e){return of.apply(this,arguments)}function of(){return of=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zl(t);case 2:return n=e.sent,Ba(r=vc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:rf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tf,dontclear:!0},(function(e){return new Promise(function(){var n=gi(bi().mark((function n(r,i){var a,o,u;return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){vc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ua(t,"network-request-failed"),o=vc().setTimeout((function(){i(a)}),ef.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}var uf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sf="_blank",cf="http://localhost",lf=function(){function e(t){_r(this,e),this.window=t,this.associatedEvent=null}return xr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ff(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},uf),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Qr().toLowerCase();n&&(u=Wo(c)?sf:n),Bo(c)&&(t=t||cf,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Nr(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if($o(c)&&"_self"!==u)return hf(t||"",u),new lf(null);var f=window.open(t||"",u,l);Ba(f,e,"popup-blocked");try{f.focus()}catch(h){}return new lf(f)}function hf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var df="__/auth/handler",pf="emulator/auth/handler";function vf(e,t,n,r,i,a){Ba(e.config.authDomain,e,"auth-domain-config-required"),Ba(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(t instanceof Bu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Nr(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof zu){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(df);return Ja(t,pf)}(e),"?").concat(si(d).slice(1))}var yf="webStorageSupport",mf=function(){function e(){_r(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lc,this._completeRedirectFn=Fl}return xr(e,[{key:"_openPopup",value:function(){var e=gi(bi().mark((function e(t,n,r,i){var a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wa(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=vf(t,n,r,Ga(),i),e.abrupt("return",ff(t,o,dc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=gi(bi().mark((function e(t,n,r,i){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=vf(t,n,r,Ga(),i),vc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Wa(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(t);case 2:return n=e.sent,r=new ql(t),n.register("authEvent",(function(e){return Ba(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yf,{type:yf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Fa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ql.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Xo()||zo()||Yo()}}]),e}(),gf=mf,kf=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this,"phone")).credential=e,r}return xr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return no(e,"POST","/v2/accounts/mfaEnrollment:finalize",to(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return no(e,"POST","/v2/accounts/mfaSignIn:finalize",to(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){_r(this,e),this.factorId=t}return xr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return za("unexpected MultiFactorSessionType")}}}]),e}()),bf=function(){function e(){_r(this,e)}return xr(e,null,[{key:"assertion",value:function(e){return kf._fromCredential(e)}}]),e}();bf.FACTOR_ID="phone";var wf,_f="@firebase/auth",Ef="0.19.8",xf=function(){function e(t){_r(this,e),this.auth=t,this.internalListeners=new Map}return xr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ba(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function If(){return window}wf="Browser",Hi(new wi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Ba(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Ba(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:wf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zo(wf)},r=new eu(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ka);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Hi(new wi("auth-internal",(function(e){return function(e){return new xf(e)}(tu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),oa(_f,Ef,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wf)),oa(_f,Ef,"esm2017");function Tf(e,t,n){return Sf.apply(this,arguments)}function Sf(){return Sf=gi(bi().mark((function e(t,n,r){var i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=If(),o=a.BuildInfo,Wa(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Pf(n.sessionId);case 4:return u=e.sent,s={},Yo()?s.ibi=o.packageName:Ko()?s.apn=o.packageName:Fa(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",vf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Cf(){return(Cf=gi(bi().mark((function e(t){var n,r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=If(),r=n.BuildInfo,i={},Yo()?i.iosBundleId=r.packageName:Ko()?i.androidPackageName=r.packageName:Fa(t,"operation-not-supported-in-this-environment"),e.next=5,Wl(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e){var t=If().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Nf(e,t,n){return Rf.apply(this,arguments)}function Rf(){return Rf=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=If(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ua(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ko()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Rf.apply(this,arguments)}function Of(e){var t,n,r,i,a,o,u,s,c,l,f=If();Ba("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ba("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ba("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ba("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ba("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Pf(e){return Df.apply(this,arguments)}function Df(){return(Df=gi(bi().mark((function e(t){var n,r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e){if(Wa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Mf=function(e){Pr(n,e);var t=Ur(n);function n(){var e;return _r(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return xr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ma(Dr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ql);function Ff(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Bf(),postBody:null,tenantId:e.tenantId,error:Ua(e,"no-auth-event")}}function Uf(e,t){return zf()._set(Wf(e),t)}function jf(e){return Vf.apply(this,arguments)}function Vf(){return(Vf=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zf()._get(Wf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,zf()._remove(Wf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t){var n,r,i=function(e){var t=Hf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Hf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Hf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Hf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ua(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Bf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function zf(){return Ka(sc)}function Wf(e){return jo("authEvent",e.config.apiKey,e.name)}function Hf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Cr(t=n)||vi(t)||Tr(t)||Ar();r[0];return ci(r.slice(1).join("?"))}var Kf=function(){function e(){_r(this,e),this._redirectPersistence=lc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fl}return xr(e,[{key:"_initialize",value:function(){var e=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Mf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Fa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=gi(bi().mark((function e(t,n,r,i){var a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Of(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),wl.clear(),e.next=10,this._originValidation(t);case 10:return o=Ff(t,r,i),e.next=13,Uf(t,o);case 13:return e.next=15,Tf(t,o,n);case 15:return u=e.sent,e.next=18,Af(u);case 18:return s=e.sent,e.abrupt("return",Nf(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Cf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=If(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(gi(bi().mark((function n(){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,jf(e);case 2:t.onEvent(Qf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=gi(bi().mark((function n(r){var i,a;return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,jf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=qf(i,r.url)),t.onEvent(a||Qf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");If().handleOpenURL=function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Gf=Kf;function Qf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ua("no-auth-event")}}function Yf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return!("file:"!==Yf()&&"ionic:"!==Yf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jf(){return Zr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return/Edge\/\d+/.test(e)}function Zf(){try{var e=self.localStorage,t=dc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr();return Jf()||Xf(e)}()||ei()}catch(n){return eh()&&ei()}return!1}function eh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function th(){return("http:"===Yf()||"https:"===Yf()||Jr()||$f())&&!(Xr()||$r())&&Zf()&&!eh()}function nh(){return $f()&&"undefined"!==typeof document}function rh(){return ih.apply(this,arguments)}function ih(){return(ih=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ah={LOCAL:"local",NONE:"none",SESSION:"session"},oh=Ba,uh="persistence";function sh(e,t){oh(Object.values(ah).includes(t),e,"invalid-persistence-type"),Xr()?oh(t!==ah.SESSION,e,"unsupported-persistence-type"):$r()?oh(t===ah.NONE,e,"unsupported-persistence-type"):eh()?oh(t===ah.NONE||t===ah.LOCAL&&ei(),e,"unsupported-persistence-type"):oh(t===ah.NONE||Zf(),e,"unsupported-persistence-type")}function ch(e){return lh.apply(this,arguments)}function lh(){return(lh=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fh(),r=jo(uh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var hh=Ba,dh=function(){function e(){_r(this,e),this.browserResolver=Ka(gf),this.cordovaResolver=Ka(Gf),this.underlyingResolver=null,this._redirectPersistence=lc,this._completeRedirectFn=Fl}return xr(e,[{key:"_initialize",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=gi(bi().mark((function e(t,n,r,i){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=gi(bi().mark((function e(t,n,r,i){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ph(e){return e.unwrap()}function vh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new bh(e,function(e,t){var n,r=pi(e),i=t;return Ba(t.customData.operationType,r,"argument-error"),Ba(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),tc._fromError(r,i)}(e,t));else if(r){var i=yh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function yh(e){var t=(e instanceof ti?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ti)&&"temporaryProof"in t&&"phoneNumber"in t)return ol.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ea)return null;switch(r){case _a:n=Ku;break;case ba:n=Hu;break;case wa:n=Gu;break;case xa:n=$u;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Qu._create(r,u):Ou._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Wu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ti?n.credentialFromError(e):n.credentialFromResult(e)}function mh(e,t){return t.catch((function(t){throw t instanceof ti&&vh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,yh(t)),additionalUserInfo:Zs(e),user:wh.getOrCreate(r)}}))}function gh(e,t){return kh.apply(this,arguments)}function kh(){return(kh=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return mh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bh=function(){function e(t,n){_r(this,e),this.resolver=n,this.auth=t.wrapped()}return xr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return mh(ph(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wh=function(){function e(t){_r(this,e),this._delegate=t,this.multiFactor=function(e){var t=pi(e);return ic.has(t)||ic.set(t,rc._fromUser(t)),ic.get(t)}(t)}return xr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(this.auth,ms(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gh(this.auth,el(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(this.auth,gl(this._delegate,t,dh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch(tu(this.auth));case 2:return e.abrupt("return",Pl(this._delegate,t,dh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(this.auth,ks(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gh(this.auth,function(e,t,n){return nl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return mh(this.auth,function(e,t,n){return ml.apply(this,arguments)}(this._delegate,e,dh))}},{key:"reauthenticateWithRedirect",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch(tu(this.auth));case 2:return e.abrupt("return",Rl(this._delegate,t,dh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Vs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,as(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Hs(pi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Hs(pi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return al.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ws.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return qs.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wh.USER_MAP=new WeakMap;var _h=Ba,Eh=function(){function e(t,n){if(_r(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;_h(r,"invalid-api-key",{appName:t.name}),_h(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?dh:void 0;this._delegate=n.initialize({options:{persistence:Ih(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Oa),this.linkUnderlyingAuth()}return xr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ru(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return As.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ns(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Cs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mh(this._delegate,Ps(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return js.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Vu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _h(th(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ll(this._delegate,dh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",mh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){tu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=xh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=xh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ls.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ss.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sh(this._delegate,t),e.t0=t,e.next=e.t0===ah.SESSION?4:e.t0===ah.LOCAL?6:e.t0===ah.NONE?11:13;break;case 4:return n=lc,e.abrupt("break",14);case 6:return e.next=8,Ka(Pc)._isAvailable();case 8:return r=e.sent,n=r?Pc:sc,e.abrupt("break",14);case 11:return n=Uo,e.abrupt("break",14);case 13:return e.abrupt("return",Fa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return mh(this._delegate,function(e){return ts.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return mh(this._delegate,vs(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return mh(this._delegate,function(e,t){return Es.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return mh(this._delegate,function(e,t,n){return vs(pi(e),qu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return mh(this._delegate,function(e,t,n){return Ms.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gh(this._delegate,function(e,t,n){return Zc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _h(th(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",mh(this._delegate,vl(this._delegate,t,dh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _h(th(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ch(this._delegate);case 3:return e.abrupt("return",Al(this._delegate,t,dh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Os.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function xh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wh.getOrCreate(e))},error:t,complete:n}}function Ih(e,t){var n=function(e,t){var n=fh();if(!n)return[];var r=jo(uh,e,t);switch(n.getItem(r)){case ah.NONE:return[Uo];case ah.LOCAL:return[Pc,lc];case ah.SESSION:return[lc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Pc)||n.push(Pc),"undefined"!==typeof window)for(var r=0,i=[sc,lc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Uo)||n.push(Uo),n}Eh.Persistence=ah;var Th=function(){function e(){_r(this,e),this.providerId="phone",this._delegate=new ol(ph(va.auth()))}return xr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ol.credential(e,t)}}]),e}();Th.PHONE_SIGN_IN_METHOD=ol.PHONE_SIGN_IN_METHOD,Th.PROVIDER_ID=ol.PROVIDER_ID;var Sh,Ch=Ba,Ah=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:va.app();_r(this,e),Ch(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $c(t,n,i.auth()),this.type=this._delegate.type}return xr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Sh=va).INTERNAL.registerComponent(new wi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Eh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ia,PASSWORD_RESET:Ta,RECOVER_EMAIL:Sa,REVERT_SECOND_FACTOR_ADDITION:Ca,VERIFY_AND_CHANGE_EMAIL:Aa,VERIFY_EMAIL:Na}},EmailAuthProvider:qu,FacebookAuthProvider:Hu,GithubAuthProvider:Gu,GoogleAuthProvider:Ku,OAuthProvider:Wu,SAMLAuthProvider:Yu,PhoneAuthProvider:Th,PhoneMultiFactorGenerator:bf,RecaptchaVerifier:Ah,TwitterAuthProvider:$u,Auth:Eh,AuthCredential:ou,Error:ti}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Sh.registerVersion("@firebase/auth-compat","0.2.8");var Nh,Rh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Oh={},Ph=Ph||{},Dh=Rh||self;function Lh(){}function Mh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Uh="closure_uid_"+(1e9*Math.random()>>>0),jh=0;function Vh(e,t,n){return e.call.apply(e.bind,arguments)}function qh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bh(e,t,n){return(Bh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vh:qh).apply(null,arguments)}function zh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Hh(){this.s=this.s,this.o=this.o}var Kh={};Hh.prototype.s=!1,Hh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Uh)&&e[Uh]||(e[Uh]=++jh)}(this);delete Kh[e]}},Hh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Gh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Qh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Yh(e){return Array.prototype.concat.apply([],arguments)}function $h(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jh(e){return/^[\s\xa0]*$/.test(e)}var Xh,Zh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ed(e,t){return-1!=e.indexOf(t)}function td(e,t){return e<t?-1:e>t?1:0}e:{var nd=Dh.navigator;if(nd){var rd=nd.userAgent;if(rd){Xh=rd;break e}}Xh=""}function id(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ad(e){var t={};for(var n in e)t[n]=e[n];return t}var od="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ud(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<od.length;a++)n=od[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sd(e){return sd[" "](e),e}sd[" "]=Lh;var cd,ld=ed(Xh,"Opera"),fd=ed(Xh,"Trident")||ed(Xh,"MSIE"),hd=ed(Xh,"Edge"),dd=hd||fd,pd=ed(Xh,"Gecko")&&!(ed(Xh.toLowerCase(),"webkit")&&!ed(Xh,"Edge"))&&!(ed(Xh,"Trident")||ed(Xh,"MSIE"))&&!ed(Xh,"Edge"),vd=ed(Xh.toLowerCase(),"webkit")&&!ed(Xh,"Edge");function yd(){var e=Dh.document;return e?e.documentMode:void 0}e:{var md="",gd=function(){var e=Xh;return pd?/rv:([^\);]+)(\)|;)/.exec(e):hd?/Edge\/([\d\.]+)/.exec(e):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vd?/WebKit\/(\S+)/.exec(e):ld?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gd&&(md=gd?gd[1]:""),fd){var kd=yd();if(null!=kd&&kd>parseFloat(md)){cd=String(kd);break e}}cd=md}var bd,wd={};function _d(){return function(e){var t=wd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zh(String(cd)).split("."),n=Zh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=td(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||td(0==a[2].length,0==o[2].length)||td(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Dh.document&&fd){var Ed=yd();bd=Ed||(parseInt(cd,10)||void 0)}else bd=void 0;var xd=bd,Id=function(){if(!Dh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dh.addEventListener("test",Lh,t),Dh.removeEventListener("test",Lh,t)}catch(n){}return e}();function Td(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Sd(e,t){if(Td.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pd){e:{try{sd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sd.Z.h.call(this)}}Td.prototype.h=function(){this.defaultPrevented=!0},Wh(Sd,Td);var Cd={2:"touch",3:"pen",4:"mouse"};Sd.prototype.h=function(){Sd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ad="closure_listenable_"+(1e6*Math.random()|0),Nd=0;function Rd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Nd,this.ca=this.fa=!1}function Od(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Pd(e){this.src=e,this.g={},this.h=0}function Dd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Gh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Od(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ld(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Pd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ld(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Rd(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Md="closure_lm_"+(1e6*Math.random()|0),Fd={};function Ud(e,t,n,r,i){if(r&&r.once)return Vd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ud(e,t[a],n,r,i);return null}return n=Gd(n),e&&e[Ad]?e.N(t,n,Fh(r)?!!r.capture:!!r,i):jd(e,t,n,!1,r,i)}function jd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Fh(i)?!!i.capture:!!i,u=Hd(e);if(u||(e[Md]=u=new Pd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Wd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Id||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Vd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vd(e,t[a],n,r,i);return null}return n=Gd(n),e&&e[Ad]?e.O(t,n,Fh(r)?!!r.capture:!!r,i):jd(e,t,n,!0,r,i)}function qd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)qd(e,t[a],n,r,i);else r=Fh(r)?!!r.capture:!!r,n=Gd(n),e&&e[Ad]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ld(a=e.g[t],n,r,i))&&(Od(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Hd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ld(t,n,r,i)),(n=-1<e?t[e]:null)&&Bd(n))}function Bd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ad])Dd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hd(t))?(Dd(n,e),0==n.h&&(n.src=null,t[Md]=null)):Od(e)}}}function zd(e){return e in Fd?Fd[e]:Fd[e]="on"+e}function Wd(e,t){if(e.ca)e=!0;else{t=new Sd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Bd(e),e=n.call(r,t)}return e}function Hd(e){return(e=e[Md])instanceof Pd?e:null}var Kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gd(e){return"function"===typeof e?e:(e[Kd]||(e[Kd]=function(t){return e.handleEvent(t)}),e[Kd])}function Qd(){Hh.call(this),this.i=new Pd(this),this.P=this,this.I=null}function Yd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Td(t,e);else if(t instanceof Td)t.target=t.target||e;else{var i=t;ud(t=new Td(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$d(o,r,!0,t)&&i}if(i=$d(o=t.g=e,r,!0,t)&&i,i=$d(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$d(o=t.g=n[a],r,!1,t)&&i}function $d(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Dd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Wh(Qd,Hh),Qd.prototype[Ad]=!0,Qd.prototype.removeEventListener=function(e,t,n,r){qd(this,e,t,n,r)},Qd.prototype.M=function(){if(Qd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Od(n[r]);delete t.g[e],t.h--}}this.I=null},Qd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jd=Dh.JSON.stringify;function Xd(){var e=op,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zd,ep=function(){function e(){_r(this,e),this.h=this.g=null}return xr(e,[{key:"add",value:function(e,t){var n=tp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),tp=new(function(){function e(t,n){_r(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return xr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new np}),(function(e){return e.reset()})),np=function(){function e(){_r(this,e),this.next=this.g=this.h=null}return xr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function rp(e){Dh.setTimeout((function(){throw e}),0)}function ip(e,t){Zd||function(){var e=Dh.Promise.resolve(void 0);Zd=function(){e.then(up)}}(),ap||(Zd(),ap=!0),op.add(e,t)}var ap=!1,op=new ep;function up(){for(var e;e=Xd();){try{e.h.call(e.g)}catch(n){rp(n)}var t=tp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ap=!1}function sp(e,t){Qd.call(this),this.h=e||1,this.g=t||Dh,this.j=Bh(this.kb,this),this.l=Date.now()}function cp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function lp(e,t,n){if("function"===typeof e)n&&(e=Bh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dh.setTimeout(e,t||0)}function fp(e){e.g=lp((function(){e.g=null,e.i&&(e.i=!1,fp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wh(sp,Qd),(Nh=sp.prototype).da=!1,Nh.S=null,Nh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yd(this,"tick"),this.da&&(cp(this),this.start()))}},Nh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nh.M=function(){sp.Z.M.call(this),cp(this),delete this.g};var hp=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return xr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fp(this)}},{key:"M",value:function(){ma(Dr(n.prototype),"M",this).call(this),this.g&&(Dh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Hh);function dp(e){Hh.call(this),this.h=e,this.g={}}Wh(dp,Hh);var pp=[];function vp(e,t,n,r){Array.isArray(n)||(n&&(pp[0]=n.toString()),n=pp);for(var i=0;i<n.length;i++){var a=Ud(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function yp(e){id(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bd(e)}),e),e.g={}}function mp(){this.g=!0}function gp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}dp.prototype.M=function(){dp.Z.M.call(this),yp(this)},dp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mp.prototype.Aa=function(){this.g=!1},mp.prototype.info=function(){};var kp={},bp=null;function wp(){return bp=bp||new Qd}function _p(e){Td.call(this,kp.Ma,e)}function Ep(e){var t=wp();Yd(t,new _p(t,e))}function xp(e,t){Td.call(this,kp.STAT_EVENT,e),this.stat=t}function Ip(e){var t=wp();Yd(t,new xp(t,e))}function Tp(e,t){Td.call(this,kp.Na,e),this.size=t}function Sp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Dh.setTimeout((function(){e()}),t)}kp.Ma="serverreachability",Wh(_p,Td),kp.STAT_EVENT="statevent",Wh(xp,Td),kp.Na="timingevent",Wh(Tp,Td);var Cp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ap={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Np(){}function Rp(e){return e.h||(e.h=e.i())}function Op(){}Np.prototype.h=null;var Pp,Dp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lp(){Td.call(this,"d")}function Mp(){Td.call(this,"c")}function Fp(){}function Up(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new dp(this),this.P=Vp,e=dd?125:void 0,this.W=new sp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jp}function jp(){this.i=null,this.g="",this.h=!1}Wh(Lp,Td),Wh(Mp,Td),Wh(Fp,Np),Fp.prototype.g=function(){return new XMLHttpRequest},Fp.prototype.i=function(){return{}},Pp=new Fp;var Vp=45e3,qp={},Bp={};function zp(e,t,n){e.K=1,e.v=hv(ov(t)),e.s=n,e.U=!0,Wp(e,null)}function Wp(e,t){e.F=Date.now(),Qp(e),e.A=ov(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Iv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new jp,e.g=Sy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hp(Bh(e.Ia,e,e.g),e.O)),vp(e.V,e.g,"readystatechange",e.gb),t=e.H?ad(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ep(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Hp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Kp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Gp(e,n))==Bp){4==t&&(e.o=4,Ip(14),i=!1),gp(e.j,e.m,null,"[Incomplete Response]");break}if(r==qp){e.o=4,Ip(15),gp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gp(e.j,e.m,r,null),Zp(e,r)}Hp(e)&&r!=Bp&&r!=qp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ip(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ky(t),t.L=!0,Ip(11))):(gp(e.j,e.m,n,"[Invalid Chunked Response]"),Xp(e),Jp(e))}function Gp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bp:(n=Number(t.substring(n,r)),isNaN(n)?qp:(r+=1)+n>t.length?Bp:(t=t.substr(r,n),e.C=r+n,t))}function Qp(e){e.Y=Date.now()+e.P,Yp(e,e.P)}function Yp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sp(Bh(e.eb,e),t)}function $p(e){e.B&&(Dh.clearTimeout(e.B),e.B=null)}function Jp(e){0==e.l.G||e.I||_y(e.l,e)}function Xp(e){$p(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,cp(e.W),yp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Zp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Pv(n.i,e)))if(n.I=e.N,!e.J&&Pv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wy(n),ly(n)}gy(n),Ip(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sp(Bh(n.ab,n),6e3));if(1>=Ov(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else xy(n,11)}else if((e.J||n.g==e)&&wy(n),!Jh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(ed(l,"spdy")||ed(l,"quic")||ed(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,fv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ty(r,r.H?r.la:null,r.W),d.J){Lv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($p(p),Qp(p)),r.g=d}else my(r);0<n.l.length&&dy(n)}else"stop"!=a[0]&&"close"!=a[0]||xy(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?xy(n,7):cy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ep(4)}catch(a){}}function ev(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Mh(e)||"string"===typeof e)Qh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Mh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Mh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function tv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof tv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function nv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];rv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)rv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function rv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Nh=Up.prototype).setTimeout=function(e){this.P=e},Nh.gb=function(e){e=e.target;var t=this.L;t&&3==iy(e)?t.l():this.Ia(e)},Nh.Ia=function(e){try{if(e==this.g)e:{var t=iy(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||dd||this.g&&(this.h.h||this.g.ga()||ay(this.g)))){this.I||4!=t||7==n||Ep(8==n||0>=r?3:2),$p(this);var i=this.g.ba();this.N=i;t:if(Hp(this)){var a=ay(this.g);e="";var o=a.length,u=4==iy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xp(this),Jp(this);var s="";break t}this.h.i=new Dh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ip(12),Xp(this),Jp(this);break e}gp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zp(this,i)}this.U?(Kp(this,t,s),dd&&this.i&&3==t&&(vp(this.V,this.W,"tick",this.fb),this.W.start())):(gp(this.j,this.m,s,null),Zp(this,s)),4==t&&Xp(this),this.i&&!this.I&&(4==t?_y(this.l,this):(this.i=!1,Qp(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ip(12)):(this.o=0,Ip(13)),Xp(this),Jp(this)}}}catch(t){}},Nh.fb=function(){if(this.g){var e=iy(this.g),t=this.g.ga();this.C<t.length&&($p(this),Kp(this,e,t),this.i&&4!=e&&Qp(this))}},Nh.cancel=function(){this.I=!0,Xp(this)},Nh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ep(3),Ip(17)),Xp(this),this.o=2,Jp(this)):Yp(this,this.Y-e)},(Nh=tv.prototype).R=function(){nv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Nh.T=function(){return nv(this),this.g.concat()},Nh.get=function(e,t){return rv(this.h,e)?this.h[e]:t},Nh.set=function(e,t){rv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Nh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var iv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function av(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof av){this.g=void 0!==t?t:e.g,uv(this,e.j),this.s=e.s,sv(this,e.i),cv(this,e.m),this.l=e.l,t=e.h;var n=new wv;n.i=t.i,t.g&&(n.g=new tv(t.g),n.h=t.h),lv(this,n),this.o=e.o}else e&&(n=String(e).match(iv))?(this.g=!!t,uv(this,n[1]||"",!0),this.s=dv(n[2]||""),sv(this,n[3]||"",!0),cv(this,n[4]),this.l=dv(n[5]||"",!0),lv(this,n[6]||"",!0),this.o=dv(n[7]||"")):(this.g=!!t,this.h=new wv(null,this.g))}function ov(e){return new av(e)}function uv(e,t,n){e.j=n?dv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sv(e,t,n){e.i=n?dv(t,!0):t}function cv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lv(e,t,n){t instanceof wv?(e.h=t,function(e,t){t&&!e.j&&(_v(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ev(this,t),Iv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=pv(t,kv)),e.h=new wv(t,e.g))}function fv(e,t,n){e.h.set(t,n)}function hv(e){return fv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}av.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pv(t,yv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pv(t,yv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pv(n,"/"==n.charAt(0)?gv:mv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pv(n,bv)),e.join("")};var yv=/[#\/\?@]/g,mv=/[#\?:]/g,gv=/[#\?]/g,kv=/[#\?@]/g,bv=/#/g;function wv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _v(e){e.g||(e.g=new tv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ev(e,t){_v(e),t=Tv(e,t),rv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,rv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&nv(e)))}function xv(e,t){return _v(e),t=Tv(e,t),rv(e.g.h,t)}function Iv(e,t,n){Ev(e,t),0<n.length&&(e.i=null,e.g.set(Tv(e,t),$h(n)),e.h+=n.length)}function Tv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Nh=wv.prototype).add=function(e,t){_v(this),this.i=null,e=Tv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Nh.forEach=function(e,t){_v(this),this.g.forEach((function(n,r){Qh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Nh.T=function(){_v(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Nh.R=function(e){_v(this);var t=[];if("string"===typeof e)xv(this,e)&&(t=Yh(t,this.g.get(Tv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yh(t,e[n])}return t},Nh.set=function(e,t){return _v(this),this.i=null,xv(this,e=Tv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Nh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Nh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Sv=xr((function e(t,n){_r(this,e),this.h=t,this.g=n}));function Cv(e){this.l=e||Nv,Dh.PerformanceNavigationTiming?e=0<(e=Dh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Dh.g&&Dh.g.Ea&&Dh.g.Ea()&&Dh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Av,Nv=10;function Rv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ov(e){return e.h?1:e.g?e.g.size:0}function Pv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dv(e,t){e.g?e.g.add(t):e.h=t}function Lv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Sr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return $h(e.i)}function Fv(){}function Uv(){this.g=new Fv}function jv(e,t,n){var r=n||"";try{ev(e,(function(e,n){var i=e;Fh(e)&&(i=Jd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function qv(e){this.l=e.$b||null,this.j=e.ib||!1}function Bv(e,t){Qd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cv.prototype.cancel=function(){if(this.i=Mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Sr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Fv.prototype.stringify=function(e){return Dh.JSON.stringify(e,void 0)},Fv.prototype.parse=function(e){return Dh.JSON.parse(e,void 0)},Wh(qv,Np),qv.prototype.g=function(){return new Bv(this.l,this.j)},qv.prototype.i=(Av={},function(){return Av}),Wh(Bv,Qd);var zv=0;function Wv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Hv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kv(e)}function Kv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Nh=Bv.prototype).open=function(e,t){if(this.readyState!=zv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kv(this)},Nh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Nh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hv(this)),this.readyState=zv},Nh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kv(this)),this.g&&(this.readyState=3,Kv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Dh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Nh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hv(this):Kv(this),3==this.readyState&&Wv(this)}},Nh.Ua=function(e){this.g&&(this.response=this.responseText=e,Hv(this))},Nh.Ta=function(e){this.g&&(this.response=e,Hv(this))},Nh.ha=function(){this.g&&Hv(this)},Nh.setRequestHeader=function(e,t){this.v.append(e,t)},Nh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Nh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gv=Dh.JSON.parse;function Qv(e){Qd.call(this),this.headers=new tv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yv,this.K=this.L=!1}Wh(Qv,Qd);var Yv="",$v=/^https?$/i,Jv=["POST","PUT"];function Xv(e){return"content-type"==e.toLowerCase()}function Zv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ey(e),ny(e)}function ey(e){e.D||(e.D=!0,Yd(e,"complete"),Yd(e,"error"))}function ty(e){if(e.h&&"undefined"!=typeof Ph&&(!e.C[1]||4!=iy(e)||2!=e.ba()))if(e.v&&4==iy(e))lp(e.Fa,0,e);else if(Yd(e,"readystatechange"),4==iy(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(iv)[1]||null;if(!a&&Dh.self&&Dh.self.location){var o=Dh.self.location.protocol;a=o.substr(0,o.length-1)}i=!$v.test(a?a.toLowerCase():"")}t=i}if(t)Yd(e,"complete"),Yd(e,"success");else{e.m=6;try{var u=2<iy(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",ey(e)}}finally{ny(e)}}}function ny(e,t){if(e.g){ry(e);var n=e.g,r=e.C[0]?Lh:null;e.g=null,e.C=null,t||Yd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ry(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dh.clearTimeout(e.A),e.A=null)}function iy(e){return e.g?e.g.readyState:0}function ay(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function oy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return id(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fv(e,t,n))}function uy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sy(e){this.za=0,this.l=[],this.h=new mp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=uy("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=uy("baseRetryDelayMs",5e3,e),this.$a=uy("retryDelaySeedMs",1e4,e),this.Ya=uy("forwardChannelMaxRetries",2,e),this.ra=uy("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Cv(e&&e.concurrentRequestLimit),this.Ca=new Uv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cy(e){if(fy(e),3==e.G){var t=e.V++,n=ov(e.F);fv(n,"SID",e.J),fv(n,"RID",t),fv(n,"TYPE","terminate"),vy(e,n),(t=new Up(e,e.h,t,void 0)).K=2,t.v=hv(ov(n)),n=!1,Dh.navigator&&Dh.navigator.sendBeacon&&(n=Dh.navigator.sendBeacon(t.v.toString(),"")),!n&&Dh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Sy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qp(t)}Iy(e)}function ly(e){e.g&&(ky(e),e.g.cancel(),e.g=null)}function fy(e){ly(e),e.u&&(Dh.clearTimeout(e.u),e.u=null),wy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Dh.clearTimeout(e.m),e.m=null)}function hy(e,t){e.l.push(new Sv(e.Za++,t)),3==e.G&&dy(e)}function dy(e){Rv(e.i)||e.m||(e.m=!0,ip(e.Ha,e),e.C=0)}function py(e,t){var n;n=t?t.m:e.V++;var r=ov(e.F);fv(r,"SID",e.J),fv(r,"RID",n),fv(r,"AID",e.U),vy(e,r),e.o&&e.s&&oy(r,e.o,e.s),n=new Up(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=yy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dv(e.i,n),zp(n,r,t)}function vy(e,t){e.j&&ev({},(function(e,n){fv(t,n,e)}))}function yy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Bh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{jv(l,o,"req"+c+"_")}catch(im){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function my(e){e.g||e.u||(e.Y=1,ip(e.Ga,e),e.A=0)}function gy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Sp(Bh(e.Ga,e),Ey(e,e.A)),e.A++,!0)}function ky(e){null!=e.B&&(Dh.clearTimeout(e.B),e.B=null)}function by(e){e.g=new Up(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ov(e.oa);fv(t,"RID","rpc"),fv(t,"SID",e.J),fv(t,"CI",e.N?"0":"1"),fv(t,"AID",e.U),vy(e,t),fv(t,"TYPE","xmlhttp"),e.o&&e.s&&oy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=hv(ov(t)),n.s=null,n.U=!0,Wp(n,e)}function wy(e){null!=e.v&&(Dh.clearTimeout(e.v),e.v=null)}function _y(e,t){var n=null;if(e.g==t){wy(e),ky(e),e.g=null;var r=2}else{if(!Pv(e.i,t))return;n=t.D,Lv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yd(r=wp(),new Tp(r,n,t,i)),dy(e)}else my(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ov(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Sp(Bh(e.Ha,e,t),Ey(e,e.C)),e.C++,!0))}(e,t)||2==r&&gy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xy(e,5);break;case 4:xy(e,10);break;case 3:xy(e,6);break;default:xy(e,2)}}function Ey(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xy(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Bh(e.jb,e);n||(n=new av("//www.google.com/images/cleardot.gif"),Dh.location&&"http"==Dh.location.protocol||uv(n,"https"),hv(n)),function(e,t){var n=new mp;if(Dh.Image){var r=new Image;r.onload=zh(Vv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zh(Vv,n,r,"TestLoadImage: error",!1,t),r.onabort=zh(Vv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zh(Vv,n,r,"TestLoadImage: timeout",!1,t),Dh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ip(2);e.G=0,e.j&&e.j.va(t),Iy(e),fy(e)}function Iy(e){e.G=0,e.I=-1,e.j&&(0==Mv(e.i).length&&0==e.l.length||(e.i.i.length=0,$h(e.l),e.l.length=0),e.j.ua())}function Ty(e,t,n){var r=function(e){return e instanceof av?ov(e):new av(e,void 0)}(n);if(""!=r.i)t&&sv(r,t+"."+r.i),cv(r,r.m);else{var i=Dh.location;r=function(e,t,n,r){var i=new av(null,void 0);return e&&uv(i,e),t&&sv(i,t),n&&cv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&id(e.aa,(function(e,t){fv(r,t,e)})),t=e.D,n=e.sa,t&&n&&fv(r,t,n),fv(r,"VER",e.ma),vy(e,r),r}function Sy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qv(new qv({ib:!0})):new Qv(e.qa)).L=e.H,t}function Cy(){}function Ay(){if(fd&&!(10<=Number(xd)))throw Error("Environmental error: no available transport.")}function Ny(e,t){Qd.call(this),this.g=new sy(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Py(this)}function Ry(e){Lp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Oy(){Mp.call(this),this.status=1}function Py(e){this.g=e}(Nh=Qv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pp.g(),this.C=this.u?Rp(this.u):Rp(Pp),this.g.onreadystatechange=Bh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Zv(this,a)}e=n||"";var i=new tv(this.headers);r&&ev(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Xv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Dh.FormData&&e instanceof Dh.FormData,!(0<=Gh(Jv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ry(this),0<this.B&&((this.K=function(e){return fd&&_d()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bh(this.pa,this)):this.A=lp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Zv(this,a)}},Nh.pa=function(){"undefined"!=typeof Ph&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yd(this,"timeout"),this.abort(8))},Nh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yd(this,"complete"),Yd(this,"abort"),ny(this))},Nh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ny(this,!0)),Qv.Z.M.call(this)},Nh.Fa=function(){this.s||(this.F||this.v||this.l?ty(this):this.cb())},Nh.cb=function(){ty(this)},Nh.ba=function(){try{return 2<iy(this)?this.g.status:-1}catch(Av){return-1}},Nh.ga=function(){try{return this.g?this.g.responseText:""}catch(Av){return""}},Nh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gv(t)}},Nh.Da=function(){return this.m},Nh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Nh=sy.prototype).ma=8,Nh.G=1,Nh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Nh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Up(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ud(n=ad(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yy(this,t,r),fv(i=ov(this.F),"RID",e),fv(i,"CVER",22),this.D&&fv(i,"X-HTTP-Session-Id",this.D),vy(this,i),this.o&&n&&oy(i,this.o,n),Dv(this.i,t),this.Ra&&fv(i,"TYPE","init"),this.ja?(fv(i,"$req",r),fv(i,"SID","null"),t.$=!0,zp(t,i,null)):zp(t,i,r),this.G=2}}else 3==this.G&&(e?py(this,e):0==this.l.length||Rv(this.i)||py(this))},Nh.Ga=function(){if(this.u=null,by(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sp(Bh(this.bb,this),e)}},Nh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ip(10),ly(this),by(this))},Nh.ab=function(){null!=this.v&&(this.v=null,ly(this),gy(this),Ip(19))},Nh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ip(2)):(this.h.info("Failed to ping google.com"),Ip(1))},(Nh=Cy.prototype).xa=function(){},Nh.wa=function(){},Nh.va=function(){},Nh.ua=function(){},Nh.Oa=function(){},Ay.prototype.g=function(e,t){return new Ny(e,t)},Wh(Ny,Qd),Ny.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ip(Bh(e.hb,e,t))),Ip(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ty(e,null,e.W),dy(e)},Ny.prototype.close=function(){cy(this.g)},Ny.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,hy(this.g,t)}else this.v?((t={}).__data__=Jd(e),hy(this.g,t)):hy(this.g,e)},Ny.prototype.M=function(){this.g.j=null,delete this.j,cy(this.g),delete this.g,Ny.Z.M.call(this)},Wh(Ry,Lp),Wh(Oy,Mp),Wh(Py,Cy),Py.prototype.xa=function(){Yd(this.g,"a")},Py.prototype.wa=function(e){Yd(this.g,new Ry(e))},Py.prototype.va=function(e){Yd(this.g,new Oy(e))},Py.prototype.ua=function(){Yd(this.g,"b")},Ay.prototype.createWebChannel=Ay.prototype.g,Ny.prototype.send=Ny.prototype.u,Ny.prototype.open=Ny.prototype.m,Ny.prototype.close=Ny.prototype.close,Cp.NO_ERROR=0,Cp.TIMEOUT=8,Cp.HTTP_ERROR=6,Ap.COMPLETE="complete",Op.EventType=Dp,Dp.OPEN="a",Dp.CLOSE="b",Dp.ERROR="c",Dp.MESSAGE="d",Qd.prototype.listen=Qd.prototype.N,Qv.prototype.listenOnce=Qv.prototype.O,Qv.prototype.getLastError=Qv.prototype.La,Qv.prototype.getLastErrorCode=Qv.prototype.Da,Qv.prototype.getStatus=Qv.prototype.ba,Qv.prototype.getResponseJson=Qv.prototype.Qa,Qv.prototype.getResponseText=Qv.prototype.ga,Qv.prototype.send=Qv.prototype.ea;var Dy=Oh.createWebChannelTransport=function(){return new Ay},Ly=Oh.getStatEventTarget=function(){return wp()},My=Oh.ErrorCode=Cp,Fy=Oh.EventType=Ap,Uy=Oh.Event=kp,jy=Oh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Vy=Oh.FetchXmlHttpFactory=qv,qy=Oh.WebChannel=Op,By=Oh.XhrIo=Qv,zy="@firebase/firestore",Wy=function(){function e(t){_r(this,e),this.uid=t}return xr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Wy.UNAUTHENTICATED=new Wy(null),Wy.GOOGLE_CREDENTIALS=new Wy("google-credentials-uid"),Wy.FIRST_PARTY=new Wy("first-party-uid"),Wy.MOCK_USER=new Wy("mock-user");var Hy="9.6.5",Ky=new Di("@firebase/firestore");function Gy(){return Ky.logLevel}function Qy(e){if(Ky.logLevel<=Ii.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jy);Ky.debug.apply(Ky,["Firestore (".concat(Hy,"): ").concat(e)].concat(yi(i)))}}function Yy(e){if(Ky.logLevel<=Ii.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jy);Ky.error.apply(Ky,["Firestore (".concat(Hy,"): ").concat(e)].concat(yi(i)))}}function $y(e){if(Ky.logLevel<=Ii.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jy);Ky.warn.apply(Ky,["Firestore (".concat(Hy,"): ").concat(e)].concat(yi(i)))}}function Jy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Hy,") INTERNAL ASSERTION FAILED: ")+e;throw Yy(t),new Error(t)}function Zy(e,t){e||Xy()}function em(e,t){return e}var tm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nm=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return xr(n)}(ti),rm=xr((function e(){var t=this;_r(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),im=xr((function e(t,n){_r(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),am=function(){function e(){_r(this,e)}return xr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),om=function(){function e(t){_r(this,e),this.token=t,this.changeListener=null}return xr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),um=function(){function e(t){_r(this,e),this.t=t,this.currentUser=Wy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return xr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Qy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Qy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Zy("string"==typeof n.accessToken),new im(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Zy(null===e||"string"==typeof e),new Wy(e)}}]),e}(),sm=xr((function e(t,n,r){_r(this,e),this.type="FirstParty",this.user=Wy.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),cm=function(){function e(t,n,r){_r(this,e),this.h=t,this.l=n,this.m=r}return xr(e,[{key:"getToken",value:function(){return Promise.resolve(new sm(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),lm=xr((function e(t){_r(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),fm=function(){function e(t){_r(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return xr(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Qy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Qy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Qy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Zy("string"==typeof e.token),new lm(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),hm=function(){function e(t,n){var r=this;_r(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return xr(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function dm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}hm.I=-1;var pm=function(){function e(){_r(this,e)}return xr(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=dm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function vm(e,t){return e<t?-1:e>t?1:0}function ym(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function mm(e){return e+"\0"}var gm=function(){function e(t,n){if(_r(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new nm(tm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nm(tm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new nm(tm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nm(tm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return xr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?vm(this.nanoseconds,e.nanoseconds):vm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),km=function(){function e(t){_r(this,e),this.timestamp=t}return xr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new gm(0,0))}}]),e}();function bm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function _m(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Em=function(){function e(t,n,r){_r(this,e),void 0===n?n=0:n>t.length&&Xy(),void 0===r?r=t.length-n:r>t.length-n&&Xy(),this.segments=t,this.offset=n,this.len=r}return xr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),xm=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new nm(tm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,yi(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Em),Im=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tm=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Im.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new nm(tm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new nm(tm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new nm(tm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new nm(tm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Em),Sm=function(){function e(t){_r(this,e),this.fields=t,t.sort(Tm.comparator)}return xr(e,[{key:"covers",value:function(e){var t,n=Sr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ym(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Cm=function(e){function t(e){_r(this,t),this.binaryString=e}return xr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return vm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Cm.EMPTY_BYTE_STRING=new Cm("");var Am=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nm(e){if(Zy(!!e),"string"==typeof e){var t=0,n=Am.exec(e);if(Zy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rm(e.seconds),nanos:Rm(e.nanos)}}function Rm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Om(e){return"string"==typeof e?Cm.fromBase64String(e):Cm.fromUint8Array(e)}function Pm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dm(e){var t=e.mapValue.fields.__previous_value__;return Pm(t)?Dm(t):t}function Lm(e){var t=Nm(e.mapValue.fields.__local_write_time__.timestampValue);return new gm(t.seconds,t.nanos)}function Mm(e){return null==e}function Fm(e){return 0===e&&1/e==-1/0}function Um(e){return"number"==typeof e&&Number.isInteger(e)&&!Fm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var jm=function(){function e(t){_r(this,e),this.path=t}return xr(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===xm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(xm.fromString(t))}},{key:"fromName",value:function(t){return new e(xm.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return xm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new xm(t.slice()))}}]),e}();function Vm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pm(e)?4:10:Xy()}function qm(e,t){if(e===t)return!0;var n=Vm(e);if(n!==Vm(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lm(e).isEqual(Lm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Nm(e.timestampValue),r=Nm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Om(e.bytesValue).isEqual(Om(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rm(e.geoPointValue.latitude)===Rm(t.geoPointValue.latitude)&&Rm(e.geoPointValue.longitude)===Rm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rm(e.integerValue)===Rm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rm(e.doubleValue),r=Rm(t.doubleValue);return n===r?Fm(n)===Fm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ym(e.arrayValue.values||[],t.arrayValue.values||[],qm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bm(n)!==bm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qm(n[i],r[i])))return!1;return!0}(e,t);default:return Xy()}}function Bm(e,t){return void 0!==(e.values||[]).find((function(e){return qm(e,t)}))}function zm(e,t){if(e===t)return 0;var n=Vm(e),r=Vm(t);if(n!==r)return vm(n,r);switch(n){case 0:return 0;case 1:return vm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rm(e.integerValue||e.doubleValue),r=Rm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wm(e.timestampValue,t.timestampValue);case 4:return Wm(Lm(e),Lm(t));case 5:return vm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Om(e),r=Om(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=vm(n[i],r[i]);if(0!==a)return a}return vm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=vm(Rm(e.latitude),Rm(t.latitude));return 0!==n?n:vm(Rm(e.longitude),Rm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=zm(n[i],r[i]);if(a)return a}return vm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=vm(r[o],a[o]);if(0!==u)return u;var s=zm(n[r[o]],i[a[o]]);if(0!==s)return s}return vm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xy()}}function Wm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vm(e,t);var n=Nm(e),r=Nm(t),i=vm(n.seconds,r.seconds);return 0!==i?i:vm(n.nanos,r.nanos)}function Hm(e){return Km(e)}function Km(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Nm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Om(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,jm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Sr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Km(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Sr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Km(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xy();var t,n}function Gm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Qm(e){return!!e&&"integerValue"in e}function Ym(e){return!!e&&"arrayValue"in e}function $m(e){return!!e&&"nullValue"in e}function Jm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xm(e){return!!e&&"mapValue"in e}function Zm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return wm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Zm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Zm(e.arrayValue.values[r]);return n}return Object.assign({},e)}var eg=function(){function e(t){_r(this,e),this.value=t}return xr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zm(t)}},{key:"setAll",value:function(e){var t=this,n=Tm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Zm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){wm(t,(function(t,n){return e[t]=n}));var r,i=Sr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Zm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function tg(e){var t=[];return wm(e.fields,(function(e,n){var r=new Tm([e]);if(Xm(n)){var i=tg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Sr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Sm(t)}var ng=function(){function e(t,n,r,i,a){_r(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return xr(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=eg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=eg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,km.min(),eg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,eg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,eg.empty(),2)}}]),e}(),rg=xr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_r(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function ig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new rg(e,t,n,r,i,a,o)}function ag(e){var t=em(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Hm(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Mm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=gg(t.startAt)),t.endAt&&(n+="|ub:",n+=gg(t.endAt)),t.R=n}return t.R}function og(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!bg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!qm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_g(e.startAt,t.startAt)&&_g(e.endAt,t.endAt)}function ug(e){return jm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var sg=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return xr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(zm(t,this.value)):null!==t&&Vm(this.value)===Vm(t)&&this.v(zm(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xy()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new cg(e,t,r):"array-contains"===t?new dg(e,r):"in"===t?new pg(e,r):"not-in"===t?new vg(e,r):"array-contains-any"===t?new yg(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new lg(e,n):new fg(e,n)}}]),n}(function(){return xr((function e(){_r(this,e)}))}());var cg=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this,e,r,i)).key=jm.fromName(i.referenceValue),a}return xr(n,[{key:"matches",value:function(e){var t=jm.comparator(e.key,this.key);return this.v(t)}}]),n}(sg),lg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,"in",r)).keys=hg("in",r),i}return xr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sg),fg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,"not-in",r)).keys=hg("not-in",r),i}return xr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(sg);function hg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jm.fromName(e.referenceValue)}))}var dg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"array-contains",r)}return xr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ym(t)&&Bm(t.arrayValue,this.value)}}]),n}(sg),pg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"in",r)}return xr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Bm(this.value.arrayValue,t)}}]),n}(sg),vg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"not-in",r)}return xr(n,[{key:"matches",value:function(e){if(Bm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Bm(this.value.arrayValue,t)}}]),n}(sg),yg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){return _r(this,n),t.call(this,e,"array-contains-any",r)}return xr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Bm(t.value.arrayValue,e)}))}}]),n}(sg),mg=xr((function e(t,n){_r(this,e),this.position=t,this.before=n}));function gg(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Hm(e)})).join(","))}var kg=xr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_r(this,e),this.field=t,this.dir=n}));function bg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function wg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jm.comparator(jm.fromName(o.referenceValue),n.key):zm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function _g(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qm(e.position[n],t.position[n]))return!1;return!0}var Eg=xr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_r(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function xg(e,t,n,r,i,a,o,u){return new Eg(e,t,n,r,i,a,o,u)}function Ig(e){return new Eg(e)}function Tg(e){return!Mm(e.limit)&&"F"===e.limitType}function Sg(e){return!Mm(e.limit)&&"L"===e.limitType}function Cg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ag(e){var t,n=Sr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Ng(e){return null!==e.collectionGroup}function Rg(e){var t=em(e);if(null===t.S){t.S=[];var n=Ag(t),r=Cg(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new kg(n)),t.S.push(new kg(Tm.keyField(),"asc"));else{var i,a=!1,o=Sr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new kg(Tm.keyField(),s))}}}return t.S}function Og(e){var t=em(e);if(!t.D)if("F"===t.limitType)t.D=ig(t.path,t.collectionGroup,Rg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Sr(Rg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new kg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new mg(t.endAt.position,!t.endAt.before):null,s=t.startAt?new mg(t.startAt.position,!t.startAt.before):null;t.D=ig(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function Pg(e,t,n){return new Eg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dg(e,t){return og(Og(e),Og(t))&&e.limitType===t.limitType}function Lg(e){return"".concat(ag(Og(e)),"|lt:").concat(e.limitType)}function Mg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Hm(t.value));var t})).join(", "),"]")),Mm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+gg(e.startAt)),e.endAt&&(t+=", endAt: "+gg(e.endAt)),"Target(".concat(t,")")}(Og(e)),"; limitType=").concat(e.limitType,")")}function Fg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Sr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Sr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!wg(e.startAt,Rg(e),t))&&(!e.endAt||!wg(e.endAt,Rg(e),t))}(e,t)}function Ug(e){return function(t,n){var r,i=!1,a=Sr(Rg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=jg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function jg(e,t,n){var r=e.field.isKeyField()?jm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zm(r,i):Xy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xy()}}function Vg(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(t)?"-0":t}}function qg(e){return{integerValue:""+e}}function Bg(e,t){return Um(t)?qg(t):Vg(e,t)}var zg=xr((function e(){_r(this,e),this._=void 0}));function Wg(e,t,n){return e instanceof Gg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qg?Yg(e,t):e instanceof $g?Jg(e,t):function(e,t){var n=Kg(e,t),r=Zg(n)+Zg(e.N);return Qm(n)&&Qm(e.N)?qg(r):Vg(e.k,r)}(e,t)}function Hg(e,t,n){return e instanceof Qg?Yg(e,t):e instanceof $g?Jg(e,t):n}function Kg(e,t){return e instanceof Xg?Qm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Gg=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n)}(zg),Qg=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).elements=e,r}return xr(n)}(zg);function Yg(e,t){var n,r=ek(t),i=Sr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $g=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).elements=e,r}return xr(n)}(zg);function Jg(e,t){var n,r=ek(t),i=Sr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xg=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).k=e,i.N=r,i}return xr(n)}(zg);function Zg(e){return Rm(e.integerValue||e.doubleValue)}function ek(e){return Ym(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tk=xr((function e(t,n){_r(this,e),this.field=t,this.transform=n}));var nk=xr((function e(t,n){_r(this,e),this.version=t,this.transformResults=n})),rk=function(){function e(t,n){_r(this,e),this.updateTime=t,this.exists=n}return xr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ik(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ak=xr((function e(){_r(this,e)}));function ok(e,t,n){e instanceof fk?function(e,t,n){var r=e.value.clone(),i=pk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hk?function(e,t,n){if(ik(e.precondition,t)){var r=pk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uk(e,t,n){e instanceof fk?function(e,t,n){if(ik(e.precondition,t)){var r=e.value.clone(),i=vk(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(lk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof hk?function(e,t,n){if(ik(e.precondition,t)){var r=vk(e.fieldTransforms,n,t),i=t.data;i.setAll(dk(e)),i.setAll(r),t.convertToFoundDocument(lk(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ik(e.precondition,t)&&t.convertToNoDocument(km.min())}(e,t)}function sk(e,t){var n,r=null,i=Sr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Kg(a.transform,o||null);null!=u&&(null==r&&(r=eg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ck(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ym(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qg&&t instanceof Qg||e instanceof $g&&t instanceof $g?ym(e.elements,t.elements,qm):e instanceof Xg&&t instanceof Xg?qm(e.N,t.N):e instanceof Gg&&t instanceof Gg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function lk(e){return e.isFoundDocument()?e.version:km.min()}var fk=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _r(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return xr(n)}(ak),hk=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _r(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return xr(n)}(ak);function dk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pk(e,t,n){var r=new Map;Zy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Hg(o,u,n[i]))}return r}function vk(e,t,n){var r,i=new Map,a=Sr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Wg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var yk,mk,gk=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return xr(n)}(ak),kk=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return xr(n)}(ak),bk=xr((function e(t){_r(this,e),this.count=t}));function wk(e){switch(e){default:return Xy();case tm.CANCELLED:case tm.UNKNOWN:case tm.DEADLINE_EXCEEDED:case tm.RESOURCE_EXHAUSTED:case tm.INTERNAL:case tm.UNAVAILABLE:case tm.UNAUTHENTICATED:return!1;case tm.INVALID_ARGUMENT:case tm.NOT_FOUND:case tm.ALREADY_EXISTS:case tm.PERMISSION_DENIED:case tm.FAILED_PRECONDITION:case tm.ABORTED:case tm.OUT_OF_RANGE:case tm.UNIMPLEMENTED:case tm.DATA_LOSS:return!0}}function _k(e){if(void 0===e)return Yy("GRPC error has no .code"),tm.UNKNOWN;switch(e){case yk.OK:return tm.OK;case yk.CANCELLED:return tm.CANCELLED;case yk.UNKNOWN:return tm.UNKNOWN;case yk.DEADLINE_EXCEEDED:return tm.DEADLINE_EXCEEDED;case yk.RESOURCE_EXHAUSTED:return tm.RESOURCE_EXHAUSTED;case yk.INTERNAL:return tm.INTERNAL;case yk.UNAVAILABLE:return tm.UNAVAILABLE;case yk.UNAUTHENTICATED:return tm.UNAUTHENTICATED;case yk.INVALID_ARGUMENT:return tm.INVALID_ARGUMENT;case yk.NOT_FOUND:return tm.NOT_FOUND;case yk.ALREADY_EXISTS:return tm.ALREADY_EXISTS;case yk.PERMISSION_DENIED:return tm.PERMISSION_DENIED;case yk.FAILED_PRECONDITION:return tm.FAILED_PRECONDITION;case yk.ABORTED:return tm.ABORTED;case yk.OUT_OF_RANGE:return tm.OUT_OF_RANGE;case yk.UNIMPLEMENTED:return tm.UNIMPLEMENTED;case yk.DATA_LOSS:return tm.DATA_LOSS;default:return Xy()}}(mk=yk||(yk={}))[mk.OK=0]="OK",mk[mk.CANCELLED=1]="CANCELLED",mk[mk.UNKNOWN=2]="UNKNOWN",mk[mk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mk[mk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mk[mk.NOT_FOUND=5]="NOT_FOUND",mk[mk.ALREADY_EXISTS=6]="ALREADY_EXISTS",mk[mk.PERMISSION_DENIED=7]="PERMISSION_DENIED",mk[mk.UNAUTHENTICATED=16]="UNAUTHENTICATED",mk[mk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mk[mk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mk[mk.ABORTED=10]="ABORTED",mk[mk.OUT_OF_RANGE=11]="OUT_OF_RANGE",mk[mk.UNIMPLEMENTED=12]="UNIMPLEMENTED",mk[mk.INTERNAL=13]="INTERNAL",mk[mk.UNAVAILABLE=14]="UNAVAILABLE",mk[mk.DATA_LOSS=15]="DATA_LOSS";var Ek=function(){function e(t,n){_r(this,e),this.comparator=t,this.root=n||Ik.EMPTY}return xr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ik.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ik.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new xk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new xk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new xk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new xk(this.root,e,this.comparator,!0)}}]),e}(),xk=function(){function e(t,n,r,i){_r(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return xr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ik=function(){function e(t,n,r,i,a){_r(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return xr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xy();if(this.right.isRed())throw Xy();var e=this.left.check();if(e!==this.right.check())throw Xy();return e+(this.isRed()?0:1)}}]),e}();Ik.EMPTY=null,Ik.RED=!0,Ik.BLACK=!1,Ik.EMPTY=new(function(){function e(){_r(this,e),this.size=0}return xr(e,[{key:"key",get:function(){throw Xy()}},{key:"value",get:function(){throw Xy()}},{key:"color",get:function(){throw Xy()}},{key:"left",get:function(){throw Xy()}},{key:"right",get:function(){throw Xy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ik(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Tk=function(){function e(t){_r(this,e),this.comparator=t,this.data=new Ek(this.comparator)}return xr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Sk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Sk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Sk=function(){function e(t){_r(this,e),this.iter=t}return xr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Ck=new Ek(jm.comparator);function Ak(){return Ck}var Nk=new Ek(jm.comparator);function Rk(){return Nk}var Ok=new Ek(jm.comparator);function Pk(){return Ok}var Dk=new Tk(jm.comparator);function Lk(){for(var e=Dk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Mk=new Tk(vm);function Fk(){return Mk}var Uk=function(){function e(t,n,r,i,a){_r(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return xr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,jk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(km.min(),r,Fk(),Ak(),Lk())}}]),e}(),jk=function(){function e(t,n,r,i,a){_r(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return xr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Cm.EMPTY_BYTE_STRING,n,Lk(),Lk(),Lk())}}]),e}(),Vk=xr((function e(t,n,r,i){_r(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),qk=xr((function e(t,n){_r(this,e),this.targetId=t,this.M=n})),Bk=xr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_r(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zk=function(){function e(){_r(this,e),this.F=0,this.L=Kk(),this.B=Cm.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return xr(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Lk(),t=Lk(),n=Lk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xy()}})),new jk(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Kk()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Wk=function(){function e(t){_r(this,e),this.et=t,this.nt=new Map,this.st=Ak(),this.it=Hk(),this.rt=new Tk(vm)}return xr(e,[{key:"ot",value:function(e){var t,n=Sr(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(u){n.e(u)}finally{n.f()}var i,a=Sr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Xy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(ug(i))if(0===n){var a=new jm(i.path);this.at(t,a,ng.newNoDocument(a,km.min()))}else Zy(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ug(a.target)){var o=new jm(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,ng.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Lk();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Uk(e,n,this.rt,this.st,r);return this.st=Ak(),this.it=Hk(),this.rt=new Tk(vm),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new zk,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Tk(vm),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Qy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new zk),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Hk(){return new Ek(jm.comparator)}function Kk(){return new Ek(jm.comparator)}var Gk={asc:"ASCENDING",desc:"DESCENDING"},Qk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yk=xr((function e(t,n){_r(this,e),this.databaseId=t,this.C=n}));function $k(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jk(e,t){return e.C?t.toBase64():t.toUint8Array()}function Xk(e,t){return $k(e,t.toTimestamp())}function Zk(e){return Zy(!!e),km.fromTimestamp(function(e){var t=Nm(e);return new gm(t.seconds,t.nanos)}(e))}function eb(e,t){return function(e){return new xm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function tb(e){var t=xm.fromString(e);return Zy(Tb(t)),t}function nb(e,t){return eb(e.databaseId,t.path)}function rb(e,t){var n=tb(t);if(n.get(1)!==e.databaseId.projectId)throw new nm(tm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nm(tm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jm(ub(n))}function ib(e,t){return eb(e.databaseId,t)}function ab(e){var t=tb(e);return 4===t.length?xm.emptyPath():ub(t)}function ob(e){return new xm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ub(e){return Zy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sb(e,t,n){return{name:nb(e,t),fields:n.value.mapValue.fields}}function cb(e,t,n){var r=rb(e,t.name),i=Zk(t.updateTime),a=new eg({mapValue:{fields:t.fields}}),o=ng.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function lb(e,t){return"found"in t?function(e,t){Zy(!!t.found),t.found.name,t.found.updateTime;var n=rb(e,t.found.name),r=Zk(t.found.updateTime),i=new eg({mapValue:{fields:t.found.fields}});return ng.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Zy(!!t.missing),Zy(!!t.readTime);var n=rb(e,t.missing),r=Zk(t.readTime);return ng.newNoDocument(n,r)}(e,t):Xy()}function fb(e,t){var n;if(t instanceof fk)n={update:sb(e,t.key,t.value)};else if(t instanceof gk)n={delete:nb(e,t.key)};else if(t instanceof hk)n={update:sb(e,t.key,t.data),updateMask:Ib(t.fieldMask)};else{if(!(t instanceof kk))return Xy();n={verify:nb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $g)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Xy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xy()}(e,t.precondition)),n}function hb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rk.updateTime(Zk(e.updateTime)):void 0!==e.exists?rk.exists(e.exists):rk.none()}(t.currentDocument):rk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Zy("REQUEST_TIME"===t.setToServerValue),n=new Gg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Qg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $g(i)}else"increment"in t?n=new Xg(e,t.increment):Xy();var a=Tm.fromServerFormat(t.fieldPath);return new tk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=rb(e,t.update.name),a=new eg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Sm(t.map((function(e){return Tm.fromServerFormat(e)})))}(t.updateMask);return new hk(i,a,o,n,r)}return new fk(i,a,n,r)}if(t.delete){var u=rb(e,t.delete);return new gk(u,n)}if(t.verify){var s=rb(e,t.verify);return new kk(s,n)}return Xy()}function db(e,t){return{documents:[ib(e,t.path)]}}function pb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ib(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ib(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Jm(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NAN"}};if($m(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jm(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NOT_NAN"}};if($m(e.value))return{unaryFilter:{field:wb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wb(e.field),op:bb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:wb(e.field),direction:kb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Mm(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=mb(t.startAt)),t.endAt&&(n.structuredQuery.endAt=mb(t.endAt)),n}function vb(e){var t=ab(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=yb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new kg(_b(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Mm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=gb(n.startAt));var l=null;return n.endAt&&(l=gb(n.endAt)),xg(t,i,u,o,s,"F",c,l)}function yb(e){return e?void 0!==e.unaryFilter?[xb(e)]:void 0!==e.fieldFilter?[Eb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return yb(e)})).reduce((function(e,t){return e.concat(t)})):Xy():[]}function mb(e){return{before:e.before,values:e.position}}function gb(e){var t=!!e.before,n=e.values||[];return new mg(n,t)}function kb(e){return Gk[e]}function bb(e){return Qk[e]}function wb(e){return{fieldPath:e.canonicalString()}}function _b(e){return Tm.fromServerFormat(e.fieldPath)}function Eb(e){return sg.create(_b(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xy()}}(e.fieldFilter.op),e.fieldFilter.value)}function xb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_b(e.unaryFilter.field);return sg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_b(e.unaryFilter.field);return sg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_b(e.unaryFilter.field);return sg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_b(e.unaryFilter.field);return sg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xy()}}function Ib(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Tb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Ab(t)),t=Cb(e.get(n),t);return Ab(t)}function Cb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Ab(e){return e+"\x01\x01"}function Nb(e){var t=e.length;if(Zy(t>=2),2===t)return Zy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),xm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xy()}a=o+2}return new xm(r)}var Rb=xr((function e(t,n){_r(this,e),this.seconds=t,this.nanoseconds=n})),Ob=xr((function e(t,n,r){_r(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Ob.store="owner",Ob.key="owner";var Pb=xr((function e(t,n,r){_r(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Pb.store="mutationQueues",Pb.keyPath="userId";var Db=xr((function e(t,n,r,i,a){_r(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Db.store="mutations",Db.keyPath="batchId",Db.userMutationsIndex="userMutationsIndex",Db.userMutationsKeyPath=["userId","batchId"];var Lb=function(){function e(){_r(this,e)}return xr(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Sb(t)]}},{key:"key",value:function(e,t,n){return[e,Sb(t),n]}}]),e}();Lb.store="documentMutations",Lb.PLACEHOLDER=new Lb;var Mb=xr((function e(t,n){_r(this,e),this.path=t,this.readTime=n})),Fb=xr((function e(t,n){_r(this,e),this.path=t,this.version=n})),Ub=xr((function e(t,n,r,i,a,o){_r(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Ub.store="remoteDocuments",Ub.readTimeIndex="readTimeIndex",Ub.readTimeIndexPath="readTime",Ub.collectionReadTimeIndex="collectionReadTimeIndex",Ub.collectionReadTimeIndexPath=["parentPath","readTime"];var jb=xr((function e(t){_r(this,e),this.byteSize=t}));jb.store="remoteDocumentGlobal",jb.key="remoteDocumentGlobalKey";var Vb=xr((function e(t,n,r,i,a,o,u){_r(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Vb.store="targets",Vb.keyPath="targetId",Vb.queryTargetsIndexName="queryTargetsIndex",Vb.queryTargetsKeyPath=["canonicalId","targetId"];var qb=xr((function e(t,n,r){_r(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));qb.store="targetDocuments",qb.keyPath=["targetId","path"],qb.documentTargetsIndex="documentTargetsIndex",qb.documentTargetsKeyPath=["path","targetId"];var Bb=xr((function e(t,n,r,i){_r(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Bb.key="targetGlobalKey",Bb.store="targetGlobal";var zb=xr((function e(t,n){_r(this,e),this.collectionId=t,this.parent=n}));zb.store="collectionParents",zb.keyPath=["collectionId","parent"];var Wb=xr((function e(t,n,r,i){_r(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Wb.store="clientMetadata",Wb.keyPath="clientId";var Hb=xr((function e(t,n,r){_r(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Hb.store="bundles",Hb.keyPath="bundleId";var Kb=xr((function e(t,n,r){_r(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Kb.store="namedQueries",Kb.keyPath="name";var Gb=[Pb.store,Db.store,Lb.store,Ub.store,Vb.store,Ob.store,Bb.store,qb.store].concat([Wb.store]).concat([jb.store]).concat([zb.store]).concat([Hb.store,Kb.store]),Qb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yb=function(){function e(){_r(this,e),this.onCommittedListeners=[]}return xr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$b=function(){function e(t){var n=this;_r(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return xr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Sr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Jb=function(){function e(t,n){var r=this;_r(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new rm,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new ew(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=aw(e.target.error);r.It.reject(new ew(t,n))}}return xr(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Qy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new nw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ew(n,t)}}}]),e}(),Xb=function(){function e(t,n,r){_r(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(Qr())&&Yy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return xr(e,[{key:"Ct",value:function(){var e=gi(bi().mark((function e(t){var n=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ew(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new nm(tm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new nm(tm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ew(t,n))},i.onupgradeneeded=function(e){Qy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Qy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=gi(bi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(bi().mark((function e(){var n,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Jb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),$b.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Qy("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qy("SimpleDb","Removing database:",e),rw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!ei())return!1;if(e.vt())return!0;var t=Qr(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/hp_feedback_new",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_apiKey:"AIzaSyBtWzPa0ZgetJVpPdoA98Cgb8UHJeROI1Y",REACT_APP_appId:"1:470851077228:web:7613b5b3ea968d63300449",REACT_APP_authDomain:"hp-feedback.firebaseapp.com",REACT_APP_messagingSenderId:"470851077228",REACT_APP_projectId:"hp-feedback",REACT_APP_storageBucket:"hp-feedback.appspot.com"})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zb=function(){function e(t){_r(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return xr(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return rw(this.$t.delete())}}]),e}(),ew=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,tm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return xr(n)}(nm);function tw(e){return"IndexedDbTransactionError"===e.name}var nw=function(){function e(t){_r(this,e),this.store=t}return xr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rw(n)}},{key:"add",value:function(e){return Qy("SimpleDb","ADD",this.store.name,e,e),rw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return rw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qy("SimpleDb","DELETE",this.store.name,e),rw(this.store.delete(e))}},{key:"count",value:function(){return Qy("SimpleDb","COUNT",this.store.name),rw(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Qy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new $b((function(n,r){t.onerror=function(e){var t=aw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new $b((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zb(i),o=t(i.primaryKey,i.value,a);if(o instanceof $b){var u=o.catch((function(e){return a.done(),$b.reject(e)}));n.push(u)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return $b.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function rw(e){return new $b((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=aw(e.target.error);n(t)}}))}var iw=!1;function aw(e){var t=Xb.bt(Qr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new nm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return iw||(iw=!0,setTimeout((function(){throw r}),0)),r}}return e}var ow=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return xr(n)}(Yb);function uw(e,t){var n=em(e);return Xb.Dt(n.Wt,t)}var sw=function(){function e(t,n,r,i){_r(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return xr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ok(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Sr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&uk(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Sr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&uk(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(km.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Lk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ym(this.mutations,e.mutations,(function(e,t){return ck(e,t)}))&&ym(this.baseMutations,e.baseMutations,(function(e,t){return ck(e,t)}))}}]),e}(),cw=function(){function e(t,n,r,i){_r(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return xr(e,null,[{key:"from",value:function(t,n,r){Zy(t.mutations.length===r.length);for(var i=Pk(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),lw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:km.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:km.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cm.EMPTY_BYTE_STRING;_r(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return xr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),fw=xr((function e(t){_r(this,e),this.Gt=t}));function hw(e,t){if(t.document)return cb(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=jm.fromSegments(t.noDocument.path),r=mw(t.noDocument.readTime),i=ng.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=jm.fromSegments(t.unknownDocument.path),o=mw(t.unknownDocument.version);return ng.newUnknownDocument(a,o)}return Xy()}function dw(e,t,n){var r=pw(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:nb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:$k(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Ub(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=yw(t.version),c=t.hasCommittedMutations;return new Ub(null,new Mb(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=yw(t.version);return new Ub(new Fb(l,f),null,null,!0,r,i)}return Xy()}function pw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vw(e){var t=new gm(e[0],e[1]);return km.fromTimestamp(t)}function yw(e){var t=e.toTimestamp();return new Rb(t.seconds,t.nanoseconds)}function mw(e){var t=new gm(e.seconds,e.nanoseconds);return km.fromTimestamp(t)}function gw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return hb(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return hb(e.Gt,t)})),u=gm.fromMillis(t.localWriteTimeMs);return new sw(t.batchId,u,n,o)}function kw(e){var t,n,r=mw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?mw(e.lastLimboFreeSnapshotVersion):km.min();return void 0!==e.query.documents?(Zy(1===(n=e.query).documents.length),t=Og(Ig(ab(n.documents[0])))):t=function(e){return Og(vb(e))}(e.query),new lw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Cm.fromBase64String(e.resumeToken))}function bw(e,t){var n,r=yw(t.snapshotVersion),i=yw(t.lastLimboFreeSnapshotVersion);n=ug(t.target)?db(e.Gt,t.target):pb(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Vb(t.targetId,ag(t.target),r,a,t.sequenceNumber,i,n)}function ww(e){var t=vb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Pg(t,t.limit,"L"):t}var _w=function(){function e(){_r(this,e)}return xr(e,[{key:"getBundleMetadata",value:function(e,t){return Ew(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:mw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ew(e).put({bundleId:(n=t).id,createTime:yw(Zk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ww(t.bundledQuery),readTime:mw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xw(e).put(function(e){return{name:e.name,readTime:yw(Zk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ew(e){return uw(e,Hb.store)}function xw(e){return uw(e,Kb.store)}var Iw=function(){function e(){_r(this,e),this.zt=new Tw}return xr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),$b.resolve()}},{key:"getCollectionParents",value:function(e,t){return $b.resolve(this.zt.getEntries(t))}}]),e}(),Tw=function(){function e(){_r(this,e),this.index={}}return xr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tk(xm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Tk(xm.comparator)).toArray()}}]),e}(),Sw=function(){function e(){_r(this,e),this.Ht=new Tw}return xr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Sb(i)};return Cw(e).put(a)}return $b.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[mm(t),""],!1,!0);return Cw(e).Bt(r).next((function(e){var r,i=Sr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Nb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Cw(e){return uw(e,zb.store)}var Aw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nw=function(){function e(t,n,r){_r(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return xr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Rw(e,t,n){var r=e.store(Db.store),i=e.store(Lb.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Zy(1===u)})));var c,l=[],f=Sr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Lb.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $b.waitFor(a).next((function(){return l}))}function Ow(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xy();t=e.noDocument}return JSON.stringify(t).length}Nw.DEFAULT_COLLECTION_PERCENTILE=10,Nw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nw.DEFAULT=new Nw(41943040,Nw.DEFAULT_COLLECTION_PERCENTILE,Nw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nw.DISABLED=new Nw(-1,0,0);var Pw=function(){function e(t,n,r,i){_r(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return xr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lw(e).jt({index:Db.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Mw(e),o=Lw(e);return o.add({}).next((function(u){Zy("number"==typeof u);var s,c=new sw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return fb(e.Gt,t)})),i=n.mutations.map((function(t){return fb(e.Gt,t)}));return new Db(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Tk((function(e,t){return vm(e.canonicalString(),t.canonicalString())})),d=Sr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Lb.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Lb.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),$b.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Lw(e).get(t).next((function(e){return e?(Zy(e.userId===n.userId),gw(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?$b.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Lw(e).jt({index:Db.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Zy(t.batchId>=r),a=gw(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Lw(e).jt({index:Db.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lw(e).Bt(Db.userMutationsIndex,n).next((function(e){return e.map((function(e){return gw(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Lb.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Mw(e).jt({range:i},(function(r,i,o){var u=Nr(r,3),s=u[0],c=u[1],l=u[2],f=Nb(c);if(s===n.userId&&t.path.isEqual(f))return Lw(e).get(l).next((function(e){if(!e)throw Xy();Zy(e.userId===n.userId),a.push(gw(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tk(vm),i=[];return t.forEach((function(t){var a=Lb.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Mw(e).jt({range:o},(function(e,i,a){var o=Nr(e,3),u=o[0],s=o[1],c=o[2],l=Nb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),$b.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Lb.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Tk(vm);return Mw(e).jt({range:o},(function(e,t,a){var o=Nr(e,3),s=o[0],c=o[1],l=o[2],f=Nb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Lw(e).get(t).next((function(e){if(null===e)throw Xy();Zy(e.userId===n.userId),r.push(gw(n.k,e))})))})),$b.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Rw(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),$b.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $b.resolve();var r=IDBKeyRange.lowerBound(Lb.prefixForUser(t.userId)),i=[];return Mw(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Nb(e[1]);i.push(a)}else r.done()})).next((function(){Zy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Dw(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Fw(e).get(this.userId).next((function(e){return e||new Pb(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Zy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Dw(e,t,n){var r=Lb.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Mw(e).jt({range:a,Kt:!0},(function(e,n,r){var a=Nr(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Lw(e){return uw(e,Db.store)}function Mw(e){return uw(e,Lb.store)}function Fw(e){return uw(e,Pb.store)}var Uw=function(){function e(t){_r(this,e),this.se=t}return xr(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),jw=function(){function e(t,n){_r(this,e),this.referenceDelegate=t,this.k=n}return xr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Uw(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return km.fromTimestamp(new gm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Vw(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Zy(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Vw(e).jt((function(o,u){var s=kw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return $b.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Vw(e).jt((function(e,n){var r=kw(n);t(r)}))}},{key:"oe",value:function(e){return qw(e).get(Bb.key).next((function(e){return Zy(null!==e),e}))}},{key:"ce",value:function(e,t){return qw(e).put(Bb.key,t)}},{key:"ae",value:function(e,t){return Vw(e).put(bw(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ag(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vw(e).jt({range:r,index:Vb.queryTargetsIndexName},(function(e,n,r){var a=kw(n);og(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Bw(e);return t.forEach((function(t){var o=Sb(t.path);i.push(a.put(new qb(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),$b.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Bw(e);return $b.forEach(t,(function(t){var a=Sb(t.path);return $b.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Bw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Bw(e),i=Lk();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Nb(e[1]),a=new jm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Sb(t.path),r=IDBKeyRange.bound([n],[mm(n)],!1,!0),i=0;return Bw(e).jt({index:qb.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=Nr(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Vw(e).get(t).next((function(e){return e?kw(e):null}))}}]),e}();function Vw(e){return uw(e,Vb.store)}function qw(e){return uw(e,Bb.store)}function Bw(e){return uw(e,qb.store)}function zw(e){return Ww.apply(this,arguments)}function Ww(){return Ww=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tm.FAILED_PRECONDITION&&t.message===Qb){e.next=2;break}throw t;case 2:Qy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Hw(e,t){var n=Nr(e,2),r=n[0],i=n[1],a=Nr(t,2),o=a[0],u=a[1],s=vm(r,o);return 0===s?vm(i,u):s}var Kw=function(){function e(t){_r(this,e),this.he=t,this.buffer=new Tk(Hw),this.le=0}return xr(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Hw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Gw=function(){function e(t,n){_r(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return xr(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Qy("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,gi(bi().mark((function n(){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!tw(n.t0)){n.next=12;break}Qy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,zw(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Qw=function(){function e(t,n){_r(this,e),this.ge=t,this.params=n}return xr(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $b.resolve(hm.I);var r=new Kw(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qy("LruGarbageCollector","Garbage collection skipped; disabled"),$b.resolve(Aw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Aw):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Gy()<=Ii.DEBUG&&Qy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),$b.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Yw=function(){function e(t,n){_r(this,e),this.db=t,this.garbageCollector=function(e,t){return new Qw(e,t)}(this,n)}return xr(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $w(e,n)}},{key:"removeReference",value:function(e,t,n){return $w(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $w(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Fw(e).Qt((function(r){return Dw(e,r,t).next((function(e){return e&&(n=!0),$b.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Bw(e).delete([0,Sb(o.path)])}))}));i.push(s)}})).next((function(){return $b.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $w(e,t)}},{key:"Ie",value:function(e,t){var n,r=Bw(e),i=hm.I;return r.jt({index:qb.documentTargetsIndex},(function(e,r){var a=Nr(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==hm.I&&t(new jm(Nb(n)),i),i=s,n=u):i=hm.I})).next((function(){i!==hm.I&&t(new jm(Nb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $w(e,t){return Bw(e).put(function(e,t){return new qb(0,Sb(e.path),t)}(t,e.currentSequenceNumber))}var Jw=function(){function e(t,n){_r(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return xr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Sr(n);try{for(i.s();!(r=i.n()).done;){var a=Nr(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){wm(this.inner,(function(t,n){var r,i=Sr(n);try{for(i.s();!(r=i.n()).done;){var a=Nr(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return _m(this.inner)}}]),e}(),Xw=function(){function e(){_r(this,e),this.changes=new Jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return xr(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:km.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:ng.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$b.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Zw=function(){function e(t,n){_r(this,e),this.k=t,this.Jt=n}return xr(e,[{key:"addEntry",value:function(e,t,n){return n_(e).put(r_(t),n)}},{key:"removeEntry",value:function(e,t){var n=n_(e),r=r_(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return n_(e).get(r_(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return n_(e).get(r_(t)).next((function(e){return{document:n.be(t,e),size:Ow(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ak();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Ak(),i=new Ek(jm.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,Ow(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return $b.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return n_(e).jt({range:r},(function(e,t,r){for(var o=jm.fromSegments(e);a&&jm.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Ak(),a=t.path.length+1,o={};if(n.isEqual(km.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=pw(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Ub.collectionReadTimeIndex}return n_(e).jt(o,(function(e,n,o){if(e.length===a){var u=hw(r.k,n);t.path.isPrefixOf(u.key.path)?Fg(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new e_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return t_(e).get(jb.key).next((function(e){return Zy(!!e),e}))}},{key:"Re",value:function(e,t){return t_(e).put(jb.key,t)}},{key:"be",value:function(e,t){if(t){var n=hw(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(km.min()))return n}return ng.newInvalidDocument(e)}}]),e}(),e_=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Jw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return xr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Tk((function(e,t){return vm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=dw(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Ow(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=dw(t.De.k,ng.newNoDocument(a,km.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),$b.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Xw);function t_(e){return uw(e,jb.store)}function n_(e){return uw(e,Ub.store)}function r_(e){return e.path.toArray()}var i_=function(){function e(t){_r(this,e),this.k=t}return xr(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Zy(n<r&&n>=0&&r<=11);var a=new Jb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Ob.store)}(e),function(e){e.createObjectStore(Pb.store,{keyPath:Pb.keyPath}),e.createObjectStore(Db.store,{keyPath:Db.keyPath,autoIncrement:!0}).createIndex(Db.userMutationsIndex,Db.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Lb.store)}(e),a_(e),function(e){e.createObjectStore(Ub.store)}(e));var o=$b.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(qb.store),e.deleteObjectStore(Vb.store),e.deleteObjectStore(Bb.store)}(e),a_(e)),o=o.next((function(){return function(e){var t=e.store(Bb.store),n=new Bb(0,0,km.min().toTimestamp(),0);return t.put(Bb.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Db.store).Bt().next((function(n){e.deleteObjectStore(Db.store),e.createObjectStore(Db.store,{keyPath:Db.keyPath,autoIncrement:!0}).createIndex(Db.userMutationsIndex,Db.userMutationsKeyPath,{unique:!0});var r=t.store(Db.store),i=n.map((function(e){return r.put(e)}));return $b.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Wb.store,{keyPath:Wb.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(jb.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ub.store);t.createIndex(Ub.readTimeIndex,Ub.readTimeIndexPath,{unique:!1}),t.createIndex(Ub.collectionReadTimeIndex,Ub.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Hb.store,{keyPath:Hb.keyPath})}(e),function(e){e.createObjectStore(Kb.store,{keyPath:Kb.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Ub.store).jt((function(e,n){t+=Ow(n)})).next((function(){var n=new jb(t);return e.store(jb.store).put(jb.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Pb.store),r=e.store(Db.store);return n.Bt().next((function(n){return $b.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Db.userMutationsIndex,i).next((function(r){return $b.forEach(r,(function(r){Zy(r.userId===n.userId);var i=gw(t.k,r);return Rw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(qb.store),n=e.store(Ub.store);return e.store(Bb.store).get(Bb.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new xm(n),o=function(e){return[0,Sb(e)]}(a);r.push(t.get(o).next((function(n){return n?$b.resolve():function(n){return t.put(new qb(0,Sb(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return $b.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(zb.store,{keyPath:zb.keyPath});var n=t.store(zb.store),r=new Tw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Sb(i)})}};return t.store(Ub.store).jt({Kt:!0},(function(e,t){var n=new xm(e);return i(n.popLast())})).next((function(){return t.store(Lb.store).jt({Kt:!0},(function(e,t){var n=Nr(e,3),r=(n[0],n[1]),a=(n[2],Nb(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Vb.store);return n.jt((function(e,r){var i=kw(r),a=bw(t.k,i);return n.put(a)}))}}]),e}();function a_(e){e.createObjectStore(qb.store,{keyPath:qb.keyPath}).createIndex(qb.documentTargetsIndex,qb.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Vb.store,{keyPath:Vb.keyPath}).createIndex(Vb.queryTargetsIndexName,Vb.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Bb.store)}var o_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",u_=function(){function e(t,n,r,i,a,o,u,s,c,l){if(_r(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=u,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new nm(tm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Yw(this,i),this.Ge=n+"main",this.k=new fw(s),this.ze=new Xb(this.Ge,11,new i_(this.k)),this.He=new jw(this.referenceDelegate,this.k),this.Jt=new Sw,this.Je=function(e,t){return new Zw(e,t)}(this.k,this.Jt),this.Ye=new _w,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Yy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return xr(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new nm(tm.FAILED_PRECONDITION,o_);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new hm(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=gi(bi().mark((function n(r){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=gi(bi().mark((function t(n){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return c_(t).put(new Wb(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(tw(t))return Qy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return s_(e).get(Ob.key).next((function(e){return $b.resolve(t.un(e))}))}},{key:"hn",value:function(e){return c_(e).delete(this.clientId)}},{key:"ln",value:function(){var e=gi(bi().mark((function e(){var t,n,r,i,a=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uw(e,Wb.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $b.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Sr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?$b.resolve(!0):s_(e).get(Ob.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new nm(tm.FAILED_PRECONDITION,o_);return!1}}return!(!t.networkEnabled||!t.inForeground)||c_(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=gi(bi().mark((function e(){var t=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Ob.store,Wb.store],(function(e){var n=new ow(e,hm.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return c_(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Pw.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Qy("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Gb,(function(a){return i=new ow(a,r.Be?r.Be.next():hm.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Yy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new nm(tm.FAILED_PRECONDITION,Qb);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return s_(e).get(Ob.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new nm(tm.FAILED_PRECONDITION,o_)}))}},{key:"an",value:function(e){var t=new Ob(this.clientId,this.allowTabSynchronization,Date.now());return s_(e).put(Ob.key,t)}},{key:"cn",value:function(e){var t=this,n=s_(e);return n.get(Ob.key).next((function(e){return t.un(e)?(Qy("IndexedDbPersistence","Releasing primary lease."),n.delete(Ob.key)):$b.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Yy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!$r()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Qy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Yy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Wh){Yy("Failed to set zombie client id.",Wh)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Wh){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Xb.Pt()}}]),e}();function s_(e){return uw(e,Ob.store)}function c_(e){return uw(e,Wb.store)}function l_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var f_=xr((function e(t,n){_r(this,e),this.progress=t,this.In=n})),h_=function(){function e(t,n,r){_r(this,e),this.Je=t,this.An=n,this.Jt=r}return xr(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Sr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Sr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return jm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Ng(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new jm(t)).next((function(e){var t=Rk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Rk();return this.Jt.getCollectionParents(e,i).next((function(o){return $b.forEach(o,(function(o){var u=function(e,t){return new Eg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Sr(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Sr(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=ng.newInvalidDocument(c),r=r.insert(c,l)),uk(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Fg(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Lk(),a=Sr(t);try{for(a.s();!(r=a.n()).done;){var o,u=Sr(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof hk&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),d_=function(){function e(t,n,r,i){_r(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return xr(e,null,[{key:"$n",value:function(t,n){var r,i=Lk(),a=Lk(),o=Sr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),p_=function(){function e(){_r(this,e)}return xr(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(km.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Tg(t)||Sg(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Gy()<=Ii.DEBUG&&Qy("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Mg(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Tk(Ug(e));return t.forEach((function(t,r){Fg(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Gy()<=Ii.DEBUG&&Qy("QueryEngine","Using full collection scan to execute query:",Mg(t)),this.Mn.getDocumentsMatchingQuery(e,t,km.min())}}]),e}(),v_=function(){function e(t,n,r,i){_r(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Ek(vm),this.Kn=new Jw((function(e){return ag(e)}),og),this.jn=km.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new h_(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return xr(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function y_(e,t,n,r){return new v_(e,t,n,r)}function m_(e,t){return g_.apply(this,arguments)}function g_(){return g_=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new h_(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Lk(),s=Sr(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Sr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Sr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Sr(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){var n=em(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$b.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Zy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function b_(e){var t=em(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function w_(e,t){var n=em(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Cm.EMPTY_BYTE_STRING,km.min()).withLastLimboFreeSnapshotVersion(km.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var u=Ak();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(__(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(km.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return $b.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function __(e,t,n,r,i){var a=Lk();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Ak();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(km.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):Qy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function E_(e,t){var n=em(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function x_(e,t){var n=em(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,$b.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new lw(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function I_(e,t,n){return T_.apply(this,arguments)}function T_(){return T_=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=em(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),tw(e.t1)){e.next=12;break}throw e.t1;case 12:Qy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),T_.apply(this,arguments)}function S_(e,t,n){var r=em(e),i=km.min(),a=Lk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=em(e),i=r.Kn.get(n);return void 0!==i?$b.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Og(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:km.min(),n?a:Lk())})).next((function(e){return{documents:e,zn:a}}))}))}function C_(e,t){var n=em(e),r=em(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function A_(e){var t=em(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=em(e),i=Ak(),a=pw(n),o=n_(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Ub.readTimeIndex,range:u},(function(e,t){var n=hw(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:vw(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function N_(e){return R_.apply(this,arguments)}function R_(){return R_=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=em(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=n_(e),n=km.min();return t.jt({index:Ub.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=vw(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function O_(e,t,n,r){return P_.apply(this,arguments)}function P_(){return P_=gi(bi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=em(t),o=Lk(),u=Ak(),s=Pk(),c=Sr(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,x_(a,function(e){return Og(Ig(xm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return __(e,d,u,km.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=gi(bi().mark((function e(t,n){var r,i,a,o=arguments;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Lk(),e.next=3,x_(t,Og(ww(n.bundledQuery)));case 3:return i=e.sent,a=em(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Zk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Cm.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}var M_=function(){function e(t){_r(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return xr(e,[{key:"getBundleMetadata",value:function(e,t){return $b.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Zk(n.createTime)}),$b.resolve()}},{key:"getNamedQuery",value:function(e,t){return $b.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:ww(e.bundledQuery),readTime:Zk(e.readTime)}}(t)),$b.resolve()}}]),e}(),F_=function(){function e(){_r(this,e),this.ts=new Tk(U_.es),this.ns=new Tk(U_.ss)}return xr(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new U_(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new U_(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new jm(new xm([])),r=new U_(n,e),i=new U_(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new jm(new xm([])),n=new U_(t,e),r=new U_(t,e+1),i=Lk();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new U_(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),U_=function(){function e(t,n){_r(this,e),this.key=t,this.fs=n}return xr(e,null,[{key:"es",value:function(e,t){return jm.comparator(e.key,t.key)||vm(e.fs,t.fs)}},{key:"ss",value:function(e,t){return vm(e.fs,t.fs)||jm.comparator(e.key,t.key)}}]),e}(),j_=function(){function e(t,n){_r(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Tk(U_.es)}return xr(e,[{key:"checkEmpty",value:function(e){return $b.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new sw(i,t,n,r);this.An.push(a);var o,u=Sr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new U_(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $b.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $b.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return $b.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $b.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return $b.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new U_(t,0),i=new U_(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),$b.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Tk(vm);return t.forEach((function(e){var t=new U_(e,0),i=new U_(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),$b.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jm.isDocumentKey(i)||(i=i.child(""));var a=new U_(new jm(i),0),o=new Tk(vm);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),$b.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Zy(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return $b.forEach(t.mutations,(function(i){var a=new U_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new U_(t,0),r=this.ws.firstAfterOrEqual(n);return $b.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,$b.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),V_=function(){function e(t,n){_r(this,e),this.Jt=t,this.Ts=n,this.docs=new Ek(jm.comparator),this.size=0}return xr(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $b.resolve(n?n.document.mutableCopy():ng.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ak();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ng.newInvalidDocument(e))})),$b.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Ak(),i=new jm(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Fg(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return $b.resolve(r)}},{key:"Es",value:function(e,t){return $b.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new q_(this)}},{key:"getSize",value:function(e){return $b.resolve(this.size)}}]),e}(),q_=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).De=e,r}return xr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),$b.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Xw),B_=function(){function e(t){_r(this,e),this.persistence=t,this.Is=new Jw((function(e){return ag(e)}),og),this.lastRemoteSnapshotVersion=km.min(),this.highestTargetId=0,this.As=0,this.Rs=new F_,this.targetCount=0,this.bs=Uw.ie()}return xr(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),$b.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $b.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $b.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),$b.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),$b.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Uw(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,$b.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),$b.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,$b.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$b.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $b.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return $b.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),$b.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$b.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),$b.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return $b.resolve(n)}},{key:"containsKey",value:function(e,t){return $b.resolve(this.Rs.containsKey(t))}}]),e}(),z_=function(){function e(t,n){var r=this;_r(this,e),this.Ps={},this.Be=new hm(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new B_(this),this.Jt=new Iw,this.Je=function(e,t){return new V_(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new fw(n),this.Ye=new M_(this.k)}return xr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new j_(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Qy("MemoryPersistence","Starting transaction:",e);var i=new W_(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return $b.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),W_=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return xr(n)}(Yb),H_=function(){function e(t){_r(this,e),this.persistence=t,this.Cs=new F_,this.Ns=null}return xr(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Xy()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),$b.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),$b.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),$b.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $b.forEach(this.xs,(function(r){var i=jm.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return $b.or([function(){return $b.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function K_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function G_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Q_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Y_=function(){function e(t,n,r,i){_r(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return xr(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new nm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Yy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$_=function(){function e(t,n,r){_r(this,e),this.targetId=t,this.state=n,this.error=r}return xr(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new nm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Yy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),J_=function(){function e(t,n){_r(this,e),this.clientId=t,this.activeTargetIds=n}return xr(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Um(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Yy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),X_=function(){function e(t,n){_r(this,e),this.clientId=t,this.onlineState=n}return xr(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Yy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Z_=function(){function e(){_r(this,e),this.activeTargetIds=Fk()}return xr(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),eE=function(){function e(t,n,r,i,a){_r(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ek(vm),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=K_(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Z_),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return xr(e,[{key:"start",value:function(){var e=gi(bi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Sr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(K_(this.persistenceKey,i)))&&(o=J_.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=Sr(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Q_(this.persistenceKey,e));if(n){var r=$_.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Q_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Yy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(gi(bi().mark((function e(){var r,i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=hm.I;if(null!=e)try{var n=JSON.parse(e);Zy("number"==typeof n),t=n}catch(e){Yy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==hm.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Y_(this.currentUser,e,t,n),i=G_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=G_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Q_(this.persistenceKey,e),i=new $_(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return J_.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Y_.Os(new Wy(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return $_.Os(r,t)}},{key:"Zs",value:function(e){return X_.Os(e)}},{key:"fi",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Qy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Fk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),tE=function(){function e(){_r(this,e),this.pi=new Z_,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return xr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Z_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),nE=function(){function e(){_r(this,e)}return xr(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),rE=function(){function e(){var t=this;_r(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return xr(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Qy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Sr(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Qy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Sr(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),iE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aE=function(){function e(t){_r(this,e),this.Vi=t.Vi,this.Si=t.Si}return xr(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),oE=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return xr(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new By;o.listenOnce(Fy.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case My.NO_ERROR:var t=o.getResponseJson();Qy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case My.TIMEOUT:Qy("Connection",'RPC "'+e+'" timed out'),a(new nm(tm.DEADLINE_EXCEEDED,"Request time out"));break;case My.HTTP_ERROR:var n=o.getStatus();if(Qy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tm).indexOf(t)>=0?t:tm.UNKNOWN}(r.status);a(new nm(u,r.message))}else a(new nm(tm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new nm(tm.UNAVAILABLE,"Connection failed."));break;default:Xy()}}finally{Qy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Dy(),a=Ly(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Vy({})),this.qi(o.initMessageHeaders,t,n),Yr()||Xr()||Qr().indexOf("Electron/")>=0||Zr()||Qr().indexOf("MSAppHost/")>=0||Jr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Qy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new aE({Vi:function(e){l?Qy("Connection","Not sending because WebChannel is closed:",e):(c||(Qy("Connection","Opening WebChannel transport."),s.open(),c=!0),Qy("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,qy.EventType.OPEN,(function(){l||Qy("Connection","WebChannel transport opened.")})),h(s,qy.EventType.CLOSE,(function(){l||(l=!0,Qy("Connection","WebChannel transport closed"),f.Oi())})),h(s,qy.EventType.ERROR,(function(e){l||(l=!0,$y("Connection","WebChannel transport errored:",e),f.Oi(new nm(tm.UNAVAILABLE,"The operation could not be completed")))})),h(s,qy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Zy(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=yk[e];if(void 0!==t)return _k(t)}(a),u=i.message;void 0===o&&(o=tm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new nm(o,u)),s.close()}else Qy("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,Uy.STAT_EVENT,(function(e){e.stat===jy.PROXY?Qy("Connection","Detected buffering proxy"):e.stat===jy.NOPROXY&&Qy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){_r(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return xr(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Qy("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Qy("RestConnection","Received: ",e),e}),(function(t){throw $y("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=iE[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function uE(){return"undefined"!=typeof window?window:null}function sE(){return"undefined"!=typeof document?document:null}function cE(e){return new Yk(e,!0)}var lE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_r(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return xr(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Qy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),fE=function(){function e(t,n,r,i,a,o,u,s){_r(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new lE(t,n)}return xr(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===tm.RESOURCE_EXHAUSTED?(Yy(n.toString()),Yy("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===tm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Nr(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new nm(tm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Qy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Qy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),hE=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a,o,u){var s;return _r(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return xr(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Zy(void 0===t||"string"==typeof t),Cm.fromBase64String(t||"")):(Zy(void 0===t||t instanceof Uint8Array),Cm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?tm.UNKNOWN:_k(e.code);return new nm(t,e.message||"")}(o);n=new Bk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=rb(e,s.document.name),l=Zk(s.document.updateTime),f=new eg({mapValue:{fields:s.document.fields}}),h=ng.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Vk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=rb(e,v.document),m=v.readTime?Zk(v.readTime):km.min(),g=ng.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Vk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=rb(e,b.document),_=b.removedTargetIds||[];n=new Vk([],_,w,null)}else{if(!("filter"in t))return Xy();t.filter;var E=t.filter;E.targetId;var x=E.count||0,I=new bk(x),T=E.targetId;n=new qk(T,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return km.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?km.min():t.readTime?Zk(t.readTime):km.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=ob(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=ug(r)?{documents:db(e,r)}:{query:pb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Jk(e,t.resumeToken):t.snapshotVersion.compareTo(km.min())>0&&(n.readTime=$k(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=ob(this.k),t.removeTarget=e,this.gr(t)}}]),n}(fE),dE=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a,o,u){var s;return _r(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return xr(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ma(Dr(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Zy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Zy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zk(e.updateTime):Zk(t);return n.isEqual(km.min())&&(n=Zk(t)),new nk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zk(e.commitTime);return this.listener.Cr(n,t)}return Zy(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=ob(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return fb(t.k,e)}))};this.gr(n)}}]),n}(fE),pE=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a){var o;return _r(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return xr(n,[{key:"Or",value:function(){if(this.$r)throw new nm(tm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Nr(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nm(tm.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Nr(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nm(tm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return xr((function e(){_r(this,e)}))}()),vE=function(){function e(t,n){_r(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return xr(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Yy(t),this.Lr=!1):Qy("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),yE=xr((function e(t,n,r,i,a){var o=this;_r(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=SE(o),!e.t0){e.next=5;break}return Qy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=em(t)).Gr.add(4),e.next=4,kE(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,mE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new vE(r,i)}));function mE(e){return gE.apply(this,arguments)}function gE(){return gE=gi(bi().mark((function e(t){var n,r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!SE(t)){e.next=18;break}n=Sr(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),gE.apply(this,arguments)}function kE(e){return bE.apply(this,arguments)}function bE(){return bE=gi(bi().mark((function e(t){var n,r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Sr(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),bE.apply(this,arguments)}function wE(e,t){var n=em(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),TE(n)?IE(n):nx(n).lr()&&EE(n,t))}function _E(e,t){var n=em(e),r=nx(n);n.Wr.delete(t),r.lr()&&xE(n,t),0===n.Wr.size&&(r.lr()?r._r():SE(n)&&n.Jr.set("Unknown"))}function EE(e,t){e.Yr.X(t.targetId),nx(e).Pr(t)}function xE(e,t){e.Yr.X(t),nx(e).vr(t)}function IE(e){e.Yr=new Wk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),nx(e).start(),e.Jr.Br()}function TE(e){return SE(e)&&!nx(e).hr()&&e.Wr.size>0}function SE(e){return 0===em(e).Gr.size}function CE(e){e.Yr=void 0}function AE(e){return NE.apply(this,arguments)}function NE(){return NE=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){EE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function RE(e,t){return OE.apply(this,arguments)}function OE(){return OE=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CE(t),TE(t)?(t.Jr.Kr(n),IE(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(e,t,n){return DE.apply(this,arguments)}function DE(){return DE=gi(bi().mark((function e(t,n,r){var i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Bk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Sr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,LE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Vk?t.Yr.ot(n):n instanceof qk?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(km.min())){e.next=29;break}return e.prev=14,e.next=17,b_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Cm.EMPTY_BYTE_STRING,n.snapshotVersion)),xE(e,t);var r=new lw(n.target,t,1,n.sequenceNumber);EE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,LE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),DE.apply(this,arguments)}function LE(e,t,n){return ME.apply(this,arguments)}function ME(){return ME=gi(bi().mark((function e(t,n,r){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tw(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,kE(t);case 5:t.Jr.set("Offline"),r||(r=function(){return b_(t.localStore)}),t.asyncQueue.enqueueRetryable(gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,mE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function FE(e,t){return t().catch((function(n){return LE(e,n,t)}))}function UE(e){return jE.apply(this,arguments)}function jE(){return jE=gi(bi().mark((function e(t){var n,r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=em(t),r=rx(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!VE(n)){e.next=19;break}return e.prev=3,e.next=6,E_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,qE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,LE(n,e.t0);case 17:e.next=2;break;case 19:BE(n)&&zE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),jE.apply(this,arguments)}function VE(e){return SE(e)&&e.Qr.length<10}function qE(e,t){e.Qr.push(t);var n=rx(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function BE(e){return SE(e)&&!rx(e).hr()&&e.Qr.length>0}function zE(e){rx(e).start()}function WE(e){return HE.apply(this,arguments)}function HE(){return HE=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rx(t).kr();case 1:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function KE(e){return GE.apply(this,arguments)}function GE(){return GE=gi(bi().mark((function e(t){var n,r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rx(t),r=Sr(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(e,t,n){return YE.apply(this,arguments)}function YE(){return YE=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=cw.from(i,n,r),e.next=3,FE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,UE(t);case 5:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function $E(e,t){return JE.apply(this,arguments)}function JE(){return JE=gi(bi().mark((function e(t,n){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&rx(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wk(i=n.code)||i===tm.ABORTED){e.next=7;break}return r=t.Qr.shift(),rx(t).wr(),e.next=5,FE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,UE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:BE(t)&&zE(t);case 5:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function XE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=em(t)).asyncQueue.verifyOperationInProgress(),Qy("RemoteStore","RemoteStore received new credentials"),i=SE(r),r.Gr.add(3),e.next=6,kE(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,mE(r);case 12:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=gi(bi().mark((function e(t,n){var r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,mE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,kE(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e){return e.Xr||(e.Xr=function(e,t,n){var r=em(e);return r.Or(),new hE(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:AE.bind(null,e),Ni:RE.bind(null,e),br:PE.bind(null,e)}),e.zr.push(function(){var t=gi(bi().mark((function t(n){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),TE(e)?IE(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:CE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function rx(e){return e.Zr||(e.Zr=function(e,t,n){var r=em(e);return r.Or(),new dE(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:WE.bind(null,e),Ni:$E.bind(null,e),Nr:KE.bind(null,e),Cr:QE.bind(null,e)}),e.zr.push(function(){var t=gi(bi().mark((function t(n){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,UE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Qy("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var ix=function(){function e(t,n,r,i,a){_r(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return xr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nm(tm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ax(e,t){if(Yy("AsyncQueue","".concat(t,": ").concat(e)),tw(e))return new nm(tm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ox=function(){function e(t){_r(this,e),this.comparator=t?function(e,n){return t(e,n)||jm.comparator(e.key,n.key)}:function(e,t){return jm.comparator(e.key,t.key)},this.keyedMap=Rk(),this.sortedSet=new Ek(this.comparator)}return xr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ux=function(){function e(){_r(this,e),this.eo=new Ek(jm.comparator)}return xr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Xy():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),sx=function(){function e(t,n,r,i,a,o,u,s){_r(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return xr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,ox.emptySet(n),a,r,i,!0,!1)}}]),e}(),cx=xr((function e(){_r(this,e),this.so=void 0,this.listeners=[]})),lx=xr((function e(){_r(this,e),this.queries=new Jw((function(e){return Lg(e)}),Dg),this.onlineState="Unknown",this.io=new Set}));function fx(e,t){return hx.apply(this,arguments)}function hx(){return hx=gi(bi().mark((function e(t,n){var r,i,a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new cx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ax(e.t0,"Initialization of query '".concat(Mg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&mx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),hx.apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return px=gi(bi().mark((function e(t,n){var r,i,a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){var n,r=em(e),i=!1,a=Sr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Sr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&mx(r)}function yx(e,t,n){var r=em(e),i=r.queries.get(t);if(i){var a,o=Sr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function mx(e){e.io.forEach((function(e){e.next()}))}var gx=function(){function e(t,n,r){_r(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return xr(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Sr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new sx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=sx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),kx=function(){function e(t,n){_r(this,e),this.payload=t,this.byteLength=n}return xr(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),bx=function(){function e(t){_r(this,e),this.k=t}return xr(e,[{key:"Hn",value:function(e){return rb(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?cb(this.k,e.document,!1):ng.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Zk(e)}}]),e}(),wx=function(){function e(t,n,r){_r(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=_x(t)}return xr(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new bx(this.k),i=Sr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=Sr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Lk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=gi(bi().mark((function e(){var t,n,r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O_(this.localStore,new bx(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Sr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,D_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new f_(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function _x(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Ex=xr((function e(t){_r(this,e),this.key=t})),xx=xr((function e(t){_r(this,e),this.key=t})),Ix=function(){function e(t,n){_r(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Lk(),this.mutatedKeys=Lk(),this.Ao=Ug(t),this.Ro=new ox(this.Ao)}return xr(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new ux,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Tg(this.query)&&i.size===this.query.limit?i.last():null,c=Sg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Fg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Tg(this.query)||Sg(this.query))for(;o.size>this.query.limit;){var l=Tg(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xy()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new sx(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new ux,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Lk(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new xx(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Ex(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Lk();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return sx.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Tx=xr((function e(t,n,r){_r(this,e),this.query=t,this.targetId=n,this.view=r})),Sx=xr((function e(t){_r(this,e),this.key=t,this.$o=!1})),Cx=function(){function e(t,n,r,i,a,o){_r(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Jw((function(e){return Lg(e)}),Dg),this.Fo=new Map,this.Lo=new Set,this.Bo=new Ek(jm.comparator),this.Uo=new Map,this.qo=new F_,this.Ko={},this.jo=new Map,this.Qo=Uw.re(),this.onlineState="Unknown",this.Wo=void 0}return xr(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Ax(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=gi(bi().mark((function e(t,n){var r,i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_I(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,x_(r.localStore,Og(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Rx(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&wE(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Rx(e,t,n,r){return Ox.apply(this,arguments)}function Ox(){return Ox=gi(bi().mark((function e(t,n,r,i){var a,o,u,s,c,l;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=gi(bi().mark((function e(t,n,r,i){var a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,S_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Xx(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,S_(t.localStore,n,!0);case 3:return a=e.sent,o=new Ix(n,a.zn),u=o.Po(a.documents),s=jk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Xx(t,r,c.Co),l=new Tx(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Px(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=em(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Dg(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,I_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),_E(r.remoteStore,i.targetId),$x(r,i.targetId)})).catch(zw);case 9:e.next=14;break;case 11:return $x(r,i.targetId),e.next=14,I_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Lx(e,t,n){return Mx.apply(this,arguments)}function Mx(){return Mx=gi(bi().mark((function e(t,n,r){var i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=EI(t),e.prev=1,e.next=4,function(e,t){var n,r=em(e),i=gm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Lk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=Sr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=sk(c,n.get(c.key));null!=l&&u.push(new hk(c.key,l,tg(l.value.mapValue),rk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Ek(vm)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,tI(i,a.changes);case 9:return e.next=11,UE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ax(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Mx.apply(this,arguments)}function Fx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.prev=1,e.next=4,w_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Zy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Zy(n.$o):e.removedDocuments.size>0&&(Zy(n.$o),n.$o=!1))})),e.next=8,tI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,zw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ux.apply(this,arguments)}function jx(e,t,n){var r=em(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=em(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Sr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&mx(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Vx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=gi(bi().mark((function e(t,n,r){var i,a,o,u,s,c;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=em(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ek(jm.comparator)).insert(o,ng.newNoDocument(o,km.min())),s=Lk().add(o),c=new Uk(km.min(),new Map,new Tk(vm),u,s),e.next=9,Fx(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),eI(i),e.next=16;break;case 14:return e.next=16,I_(i.localStore,n,!1).then((function(){return $x(i,n,r)})).catch(zw);case 16:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Bx(e,t){return zx.apply(this,arguments)}function zx(){return zx=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=n.batch.batchId,e.prev=1,e.next=4,k_(r.localStore,n);case 4:return a=e.sent,Yx(r,i,null),Qx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,tI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zx.apply(this,arguments)}function Wx(e,t,n){return Hx.apply(this,arguments)}function Hx(){return Hx=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=em(t),e.prev=1,e.next=4,function(e,t){var n=em(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Zy(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Yx(i,n,r),Qx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,tI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,zw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Hx.apply(this,arguments)}function Kx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=gi(bi().mark((function e(t,n){var r,i,a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return SE((r=em(t)).remoteStore)||Qy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=em(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ax(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Gx.apply(this,arguments)}function Qx(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Yx(e,t,n){var r=em(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function $x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Sr(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Jx(e,t)}))}function Jx(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(_E(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),eI(e))}function Xx(e,t,n){var r,i=Sr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ex?(e.qo.addReference(a.key,t),Zx(e,a)):a instanceof xx?(Qy("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Jx(e,a.key)):Xy()}}catch(o){i.e(o)}finally{i.f()}}function Zx(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Qy("SyncEngine","New document in limbo: "+n),e.Lo.add(r),eI(e))}function eI(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new jm(xm.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Sx(n)),e.Bo=e.Bo.insert(n,r),wE(e.remoteStore,new lw(Og(Ig(n.path)),r,2,hm.I))}}function tI(e,t,n){return nI.apply(this,arguments)}function nI(){return nI=gi(bi().mark((function e(t,n,r){var i,a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=em(t),a=[],o=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=d_.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Oo.br(a),e.next=9,function(){var e=gi(bi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $b.forEach(n,(function(t){return $b.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $b.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),tw(e.t0)){e.next=10;break}throw e.t0;case 10:Qy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Sr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=em(t)).currentUser.isEqual(n)){e.next=11;break}return Qy("SyncEngine","User change. New user:",n.toKey()),e.next=5,m_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new nm(tm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,tI(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){var n=em(e),r=n.Uo.get(t);if(r&&r.$o)return Lk().add(r.key);var i=Lk(),a=n.Fo.get(t);if(!a)return i;var o,u=Sr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Mo.get(s);i=i.unionWith(c.view.bo)}}catch(l){u.e(l)}finally{u.f()}return i}function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),e.next=3,S_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Xx(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(e){return cI.apply(this,arguments)}function cI(){return cI=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=em(t),e.abrupt("return",A_(n.localStore).then((function(e){return tI(n,e)})));case 2:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t,n,r){return fI.apply(this,arguments)}function fI(){return fI=gi(bi().mark((function e(t,n,r,i){var a,o;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=em(t),e.next=3,function(e,t){var n=em(e),r=em(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):$b.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,UE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Yx(a,n,i||null),Qx(a,n),function(e,t){em(em(e).An).ee(t)}(a.localStore,n)):Xy();case 11:return e.next=13,tI(a,o);case 13:e.next=16;break;case 15:Qy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=gi(bi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_I(r=em(t)),EI(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,pI(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,ex(r.remoteStore,!0);case 9:o=Sr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,wE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $x(r,t),I_(r.localStore,t,!0)})),_E(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,pI(r,c);case 21:return function(e){var t=em(e);t.Uo.forEach((function(e,n){_E(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Ek(jm.comparator)}(r),r.Wo=!1,e.next=25,ex(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t,n){return vI.apply(this,arguments)}function vI(){return vI=gi(bi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=em(t),a=[],o=[],u=Sr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,x_(i.localStore,Og(f[0]));case 11:l=e.sent,h=Sr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,oI(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,C_(i.localStore,c);case 36:return m=e.sent,e.next=39,x_(i.localStore,m);case 39:return l=e.sent,e.next=42,Rx(i,yI(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),vI.apply(this,arguments)}function yI(e){return xg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mI(e){var t=em(e);return em(em(t.localStore).persistence).Tn()}function gI(e,t,n,r){return kI.apply(this,arguments)}function kI(){return kI=gi(bi().mark((function e(t,n,r,i){var a,o,u;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=em(t)).Wo){e.next=5;break}Qy("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,A_(a.localStore);case 11:return o=e.sent,u=Uk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,tI(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,I_(a.localStore,n,!0);case 18:return $x(a,n,i),e.abrupt("break",21);case 20:Xy();case 21:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t,n){return wI.apply(this,arguments)}function wI(){return wI=gi(bi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=_I(t)).Wo){e.next=45;break}a=Sr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return Qy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,C_(i.localStore,u);case 12:return s=e.sent,e.next=15,x_(i.localStore,s);case 15:return c=e.sent,e.next=18,Rx(i,yI(s),c.targetId,!1);case 18:wE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Sr(r),e.prev=30,h=bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,I_(i.localStore,t,!1).then((function(){_E(i.remoteStore,t),$x(i,t)})).catch(zw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),wI.apply(this,arguments)}function _I(e){var t=em(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vx.bind(null,t),t.Oo.br=vx.bind(null,t.eventManager),t.Oo.zo=yx.bind(null,t.eventManager),t}function EI(e){var t=em(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wx.bind(null,t),t}function xI(e,t,n){var r=em(e);(function(){var e=gi(bi().mark((function e(t,n,r){var i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=em(e),r=Zk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(_x(i)),a=new wx(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,tI(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=em(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),$y("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var II=function(){function e(){_r(this,e),this.synchronizeTabs=!1}return xr(e,[{key:"initialize",value:function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=cE(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return y_(this.persistence,new p_,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new z_(H_.ks,this.k)}},{key:"Jo",value:function(e){return new tE}},{key:"terminate",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),TI=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return xr(n,[{key:"initialize",value:function(){var e=gi(bi().mark((function e(t){var r=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(Dr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,N_(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,EI(this.tc.syncEngine);case 8:return e.next=10,UE(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return y_(this.persistence,new p_,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Gw(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=l_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Nw.withCacheSize(this.cacheSizeBytes):Nw.DEFAULT;return new u_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,uE(),sE(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new tE}}]),n}(II),SI=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return xr(n,[{key:"initialize",value:function(){var e=gi(bi().mark((function e(t){var r,i=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ma(Dr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof eE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:lI.bind(null,r),gi:gI.bind(null,r),yi:bI.bind(null,r),Tn:mI.bind(null,r),_i:sI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hI(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=uE();if(!eE.Pt(t))throw new nm(tm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=l_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(TI),CI=function(){function e(){_r(this,e)}return xr(e,[{key:"initialize",value:function(){var e=gi(bi().mark((function e(t,n){var r=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),e.next=12,ex(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new lx}},{key:"createDatastore",value:function(e){var t,n=cE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new oE(t));return function(e,t,n,r){return new pE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jx(o.syncEngine,e,0)},a=rE.Pt()?new rE:new nE,new yE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Cx(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=em(t),Qy("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,kE(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function AI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return gi(bi().mark((function r(){var i;return bi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var NI=function(){function e(t){_r(this,e),this.observer=t,this.muted=!1}return xr(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),RI=function(){function e(t,n){var r=this;_r(this,e),this.sc=t,this.k=n,this.metadata=new rm,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return xr(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=gi(bi().mark((function e(){var t,n,r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new kx(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=gi(bi().mark((function e(){var t,n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=gi(bi().mark((function e(){var t,n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OI=function(){function e(t){_r(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return xr(e,[{key:"lookup",value:function(){var e=gi(bi().mark((function e(t){var n,r=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new nm(tm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=gi(bi().mark((function e(t,n){var r,i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=ob(r.k)+"/documents",a={documents:n.map((function(e){return nb(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=lb(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Zy(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=gi(bi().mark((function e(){var t,n=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=jm.fromPath(t);n.mutations.push(new kk(r,n.precondition(r)))})),e.next=7,function(){var e=gi(bi().mark((function e(t,n){var r,i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=em(t),i=ob(r.k)+"/documents",a={writes:n.map((function(e){return fb(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xy();t=km.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new nm(tm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rk.updateTime(t):rk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(km.min()))throw new nm(tm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rk.updateTime(t)}return rk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),PI=function(){function e(t,n,r,i){_r(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new lE(this.asyncQueue,"transaction_retry")}return xr(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(gi(bi().mark((function t(){var n,r;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new OI(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!Mm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!wk(t)}return!1}}]),e}(),DI=function(){function e(t,n,r,i){var a=this;_r(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wy.UNAUTHENTICATED,this.clientId=pm.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return xr(e,[{key:"getConfiguration",value:function(){var e=gi(bi().mark((function e(){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new nm(tm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(gi(bi().mark((function n(){var r;return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ax(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function LI(e,t){return MI.apply(this,arguments)}function MI(){return MI=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,m_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e,t){return UI.apply(this,arguments)}function UI(){return UI=gi(bi().mark((function e(t,n){var r,i;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jI(t);case 3:return r=e.sent,Qy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return XE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return XE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function jI(e){return VI.apply(this,arguments)}function VI(){return VI=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,LI(t,new II);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function qI(e){return BI.apply(this,arguments)}function BI(){return BI=gi(bi().mark((function e(t){return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,FI(t,new CI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function zI(e){return jI(e).then((function(e){return e.persistence}))}function WI(e){return jI(e).then((function(e){return e.localStore}))}function HI(e){return qI(e).then((function(e){return e.remoteStore}))}function KI(e){return qI(e).then((function(e){return e.syncEngine}))}function GI(e){return QI.apply(this,arguments)}function QI(){return QI=gi(bi().mark((function e(t){var n,r;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ax.bind(null,n.syncEngine),r.onUnlisten=Px.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function i(){return bi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new NI({next:function(a){t.enqueueAndForget((function(){return dx(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new nm(tm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new nm(tm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new gx(Ig(n.path),a,{includeMetadataChanges:!0,wo:!0});return fx(e,o)},i.next=3,GI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function i(){return bi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new NI({next:function(n){t.enqueueAndForget((function(){return dx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new nm(tm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new gx(n,a,{includeMetadataChanges:!0,wo:!0});return fx(e,o)},i.next=3,GI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var JI=xr((function e(t,n,r,i,a,o,u,s){_r(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),XI=function(){function e(t,n){_r(this,e),this.projectId=t,this.database=n||"(default)"}return xr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),ZI=new Map;function eT(e,t,n){if(!n)throw new nm(tm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tT(e,t,n,r){if(!0===t&&!0===r)throw new nm(tm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nT(e){if(!jm.isDocumentKey(e))throw new nm(tm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rT(e){if(jm.isDocumentKey(e))throw new nm(tm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xy()}function aT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nm(tm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iT(e);throw new nm(tm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function oT(e,t){if(t<=0)throw new nm(tm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uT=function(){function e(t){var n;if(_r(this,e),void 0===t.host){if(void 0!==t.ssl)throw new nm(tm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nm(tm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,tT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return xr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),sT=function(){function e(t,n,r){_r(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,t instanceof XI?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nm(tm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new XI(e.options.projectId)}(t))}return xr(e,[{key:"app",get:function(){if(!this._app)throw new nm(tm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new nm(tm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new am;switch(e.type){case"gapi":var t=e.client;return Zy(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new cm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new nm(tm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ZI.get(e);t&&(Qy("ComponentProvider","Removing Datastore"),ZI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function cT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aT(e,sT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&$y("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Wy.MOCK_USER;else{o=Gr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new nm(tm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wy(s)}e._authCredentials=new om(new im(o,u))}}var lT=function(){function e(t,n,r){_r(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return xr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new hT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),fT=function(){function e(t,n,r){_r(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return xr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),hT=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this,e,r,Ig(i)))._path=i,a.type="collection",a}return xr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new lT(this.firestore,null,new jm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(fT);function dT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pi(e),eT("collection","path",t),e instanceof sT){var a=xm.fromString.apply(xm,[t].concat(r));return rT(a),new hT(e,null,a)}if(!(e instanceof lT||e instanceof hT))throw new nm(tm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xm.fromString.apply(xm,[t].concat(r)));return rT(o),new hT(e.firestore,null,o)}function pT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pi(e),1===arguments.length&&(t=pm.A()),eT("doc","path",t),e instanceof sT){var a=xm.fromString.apply(xm,[t].concat(r));return nT(a),new lT(e,null,new jm(a))}if(!(e instanceof lT||e instanceof hT))throw new nm(tm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(xm.fromString.apply(xm,[t].concat(r)));return nT(o),new lT(e.firestore,e instanceof hT?e.converter:null,new jm(o))}function vT(e,t){return e=pi(e),t=pi(t),(e instanceof lT||e instanceof hT)&&(t instanceof lT||t instanceof hT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yT(e,t){return e=pi(e),t=pi(t),e instanceof fT&&t instanceof fT&&e.firestore===t.firestore&&Dg(e._query,t._query)&&e.converter===t.converter}var mT=function(){function e(){var t=this;_r(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new lE(this,"async_queue_retry"),this.bc=function(){var e=sE();e&&Qy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=sE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return xr(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=sE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new rm;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=gi(bi().mark((function e(){var t=this;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),tw(e.t0)){e.next=12;break}throw e.t0;case 12:Qy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=ix.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Xy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=gi(bi().mark((function e(){var t;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Sr(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Sr(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function gT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Sr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var kT=function(){function e(){_r(this,e),this._progressObserver={},this._taskCompletionResolver=new rm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return xr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bT=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new mT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return xr(n,[{key:"_terminate",value:function(){return this._firestoreClient||_T(this),this._firestoreClient.terminate()}}]),n}(sT);function wT(e){return e._firestoreClient||_T(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _T(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new JI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new DI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ET(e,t,n){var r=new rm;return e.asyncQueue.enqueue(gi(bi().mark((function i(){return bi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,LI(e,n);case 3:return i.next=5,FI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===tm.FAILED_PRECONDITION||e.code===tm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function xT(e){return function(e){return e.asyncQueue.enqueue(gi(bi().mark((function t(){var n,r;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zI(e);case 2:return n=t.sent,t.next=5,HI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=em(e);return t.Gr.delete(0),mE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(wT(e=aT(e,bT)))}function IT(e){return function(e){return e.asyncQueue.enqueue(gi(bi().mark((function t(){var n,r;return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,zI(e);case 2:return n=t.sent,t.next=5,HI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=em(t)).Gr.add(0),e.next=4,kE(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(wT(e=aT(e,bT)))}function TT(e,t){var n=wT(e=aT(e,bT)),r=new kT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new RI(e,t)}(function(e,t){if(e instanceof Uint8Array)return AI(e,t);if(e instanceof ArrayBuffer)return AI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,cE(t));e.asyncQueue.enqueueAndForget(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xI,t.next=3,KI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ST(e,t){return function(e,t){return e.asyncQueue.enqueue(gi(bi().mark((function n(){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=em(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,WI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(wT(e=aT(e,bT)),t).then((function(t){return t?new fT(e,null,t.query):null}))}function CT(e){if(e._initialized||e._terminated)throw new nm(tm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AT=function(){function e(){_r(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new nm(tm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tm(n)}return xr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NT=function(){function e(t){_r(this,e),this._byteString=t}return xr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cm.fromBase64String(t))}catch(t){throw new nm(tm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cm.fromUint8Array(t))}}]),e}(),RT=xr((function e(t){_r(this,e),this._methodName=t})),OT=function(){function e(t,n){if(_r(this,e),!isFinite(t)||t<-90||t>90)throw new nm(tm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nm(tm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return xr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return vm(this._lat,e._lat)||vm(this._long,e._long)}}]),e}(),PT=/^__.*__$/,DT=function(){function e(t,n,r){_r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hk(e,this.data,this.fieldMask,t,this.fieldTransforms):new fk(e,this.data,t,this.fieldTransforms)}}]),e}(),LT=function(){function e(t,n,r){_r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xr(e,[{key:"toMutation",value:function(e,t){return new hk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function MT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xy()}}var FT=function(){function e(t,n,r,i,a,o){_r(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return xr(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return rS(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(MT(this.$c)&&PT.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),UT=function(){function e(t,n,r){_r(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||cE(t)}return xr(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FT({$c:e,methodName:t,jc:n,path:Tm.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function jT(e){var t=e._freezeSettings(),n=cE(e._databaseId);return new UT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);ZT("Data must be an object, but it was:",o,r);var u,s,c=JT(r,o);if(a.merge)u=new Sm(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Sr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=eS(t,d,n);if(!o.contains(p))throw new nm(tm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));iS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Sm(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new DT(new eg(c),u,s)}var qT=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(RT);function BT(e,t,n){return new FT({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var zT=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"_toFieldTransform",value:function(e){return new tk(e.path,new Gg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(RT),WT=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e)).Wc=r,i}return xr(n,[{key:"_toFieldTransform",value:function(e){var t=BT(this,e,!0),n=this.Wc.map((function(e){return $T(e,t)})),r=new Qg(n);return new tk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RT),HT=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e)).Wc=r,i}return xr(n,[{key:"_toFieldTransform",value:function(e){var t=BT(this,e,!0),n=this.Wc.map((function(e){return $T(e,t)})),r=new $g(n);return new tk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RT),KT=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e)).Gc=r,i}return xr(n,[{key:"_toFieldTransform",value:function(e){var t=new Xg(e.k,Bg(e.k,this.Gc));return new tk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(RT);function GT(e,t,n,r){var i=e.Qc(1,t,n);ZT("Data must be an object, but it was:",i,r);var a=[],o=eg.empty();wm(r,(function(e,r){var u=nS(t,e,n);r=pi(r);var s=i.Bc(u);if(r instanceof qT)a.push(u);else{var c=$T(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Sm(a);return new LT(o,u,i.fieldTransforms)}function QT(e,t,n,r,i,a){var o=e.Qc(1,t,n),u=[eS(t,r,n)],s=[i];if(a.length%2!=0)throw new nm(tm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(eS(t,a[c])),s.push(a[c+1]);for(var l=[],f=eg.empty(),h=u.length-1;h>=0;--h)if(!iS(l,u[h])){var d=u[h],p=s[h];p=pi(p);var v=o.Bc(d);if(p instanceof qT)l.push(d);else{var y=$T(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Sm(l);return new LT(f,m,o.fieldTransforms)}function YT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $T(n,e.Qc(r?4:3,t))}function $T(e,t){if(XT(e=pi(e)))return ZT("Unsupported field value:",t,e),JT(e,t);if(e instanceof RT)return function(e,t){if(!MT(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Sr(e);try{for(a.s();!(n=a.n()).done;){var o=$T(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=pi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bg(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=gm.fromDate(e);return{timestampValue:$k(t.k,n)}}if(e instanceof gm){var r=new gm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$k(t.k,r)}}if(e instanceof OT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof NT)return{bytesValue:Jk(t.k,e._byteString)};if(e instanceof lT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:eb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(iT(e)))}(e,t)}function JT(e,t){var n={};return _m(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wm(e,(function(e,r){var i=$T(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof gm||e instanceof OT||e instanceof NT||e instanceof lT||e instanceof RT)}function ZT(e,t,n){if(!XT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iT(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function eS(e,t,n){if((t=pi(t))instanceof AT)return t._internalPath;if("string"==typeof t)return nS(e,t);throw rS("Field path arguments must be of type string or ",e,!1,void 0,n)}var tS=new RegExp("[~\\*/\\[\\]]");function nS(e,t,n){if(t.search(tS)>=0)throw rS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return jr(AT,yi(t.split(".")))._internalPath}catch(r){throw rS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new nm(tm.INVALID_ARGUMENT,u+e+s)}function iS(e,t){return e.some((function(e){return e.isEqual(t)}))}var aS=function(){function e(t,n,r,i,a){_r(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return xr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new lT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new oS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),oS=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"data",value:function(){return ma(Dr(n.prototype),"data",this).call(this)}}]),n}(aS);function uS(e,t){return"string"==typeof t?nS(e,t):t instanceof AT?t._internalPath:t._delegate._internalPath}var sS=function(){function e(t,n){_r(this,e),this.hasPendingWrites=t,this.fromCache=n}return xr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),cS=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i,a,o,u){var s;return _r(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return xr(n,[{key:"exists",value:function(){return ma(Dr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new lS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(aS),lS=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma(Dr(n.prototype),"data",this).call(this,e)}}]),n}(cS),fS=function(){function e(t,n,r,i){_r(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new sS(i.hasPendingWrites,i.fromCache),this.query=r}return xr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new lS(n._firestore,n._userDataWriter,r.key,r,new sS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nm(tm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new lS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new lS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:hS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function hS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xy()}}function dS(e,t){return e instanceof cS&&t instanceof cS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof fS&&t instanceof fS&&e._firestore===t._firestore&&yT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function pS(e){if(Sg(e)&&0===e.explicitOrderBy.length)throw new nm(tm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vS=xr((function e(){_r(this,e)}));function yS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var mS=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return xr(n,[{key:"_apply",value:function(e){var t=jT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new nm(tm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){CS(o,a);var s,c=[],l=Sr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(SS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=SS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||CS(o,a),u=YT(n,"where",o,"in"===a||"not-in"===a);var h=sg.create(i,a,u);return function(e,t){if(t.V()){var n=Ag(e);if(null!==n&&!n.isEqual(t.field))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Cg(e);null!==r&&AS(e,t.field,r)}var i=function(e,t){var n,r=Sr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new nm(tm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new nm(tm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new fT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Eg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(vS);var gS=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return xr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kg(t,n);return function(e,t){if(null===Cg(e)){var n=Ag(e);null!==n&&AS(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new fT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Eg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(vS);var kS=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return xr(n,[{key:"_apply",value:function(e){return new fT(e.firestore,e.converter,Pg(e._query,this.Xc,this.Zc))}}]),n}(vS);var bS=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return xr(n,[{key:"_apply",value:function(e){var t=TS(e,this.type,this.ta,this.ea);return new fT(e.firestore,e.converter,function(e,t){return new Eg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(vS);function wS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bS("startAt",t,!0)}function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bS("startAfter",t,!1)}var ES=function(e){Pr(n,e);var t=Ur(n);function n(e,r,i){var a;return _r(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return xr(n,[{key:"_apply",value:function(e){var t=TS(e,this.type,this.ta,this.ea);return new fT(e.firestore,e.converter,function(e,t){return new Eg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(vS);function xS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ES("endBefore",t,!0)}function IS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ES("endAt",t,!1)}function TS(e,t,n,r){if(n[0]=pi(n[0]),n[0]instanceof aS)return function(e,t,n,r,i){if(!r)throw new nm(tm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Sr(Rg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Gm(t,r.key));else{var c=r.data.field(s.field);if(Pm(c))throw new nm(tm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new mg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=jT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new nm(tm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Ng(e)&&-1!==c.indexOf("/"))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(xm.fromString(c));if(!jm.isDocumentKey(l))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new jm(l);u.push(Gm(t,f))}else{var h=YT(n,r,c);u.push(h)}}return new mg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function SS(e,t,n){if("string"==typeof(n=pi(n))){if(""===n)throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ng(t)&&-1!==n.indexOf("/"))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(xm.fromString(n));if(!jm.isDocumentKey(r))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gm(e,new jm(r))}if(n instanceof lT)return Gm(e,n._key);throw new nm(tm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iT(n),"."))}function CS(e,t){if(!Array.isArray(e)||0===e.length)throw new nm(tm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new nm(tm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function AS(e,t,n){if(!n.isEqual(t))throw new nm(tm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var NS=function(){function e(){_r(this,e)}return xr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Vm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Om(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return wm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new OT(Rm(e.latitude),Rm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Nm(e);return new gm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=xm.fromString(e);Zy(Tb(n));var r=new XI(n.get(1),n.get(3)),i=new jm(n.popFirst(5));return r.isEqual(t)||Yy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function RS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var OS=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).firestore=e,r}return xr(n,[{key:"convertBytes",value:function(e){return new NT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lT(this.firestore,null,t)}}]),n}(NS),PS=function(){function e(t,n){_r(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jT(t)}return xr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=DS(e,this._firestore),i=RS(r.converter,t,n),a=VT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=DS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pi(t))||t instanceof AT?QT(this._dataReader,"WriteBatch.update",i._key,t,n,o):GT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=DS(e,this._firestore);return this._mutations=this._mutations.concat(new gk(t._key,rk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new nm(tm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function DS(e,t){if((e=pi(e)).firestore!==t)throw new nm(tm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var LS=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).firestore=e,r}return xr(n,[{key:"convertBytes",value:function(e){return new NT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lT(this.firestore,null,t)}}]),n}(NS);function MS(e){e=aT(e,lT);var t=aT(e.firestore,bT),n=wT(t),r=new LS(t);return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function r(){return bi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=gi(bi().mark((function e(t,n,r){var i,a;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=em(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new nm(tm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ax(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new cS(t,r,e._key,n,new sS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function FS(e){e=aT(e,fT);var t=aT(e.firestore,bT),n=wT(t),r=new LS(t);return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function r(){return bi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=gi(bi().mark((function e(t,n,r){var i,a,o,u,s;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S_(t,n,!0);case 3:i=e.sent,a=new Ix(n,i.zn),o=a.Po(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ax(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new fS(t,r,e,n)}))}function US(e,t,n){e=aT(e,lT);var r=aT(e.firestore,bT),i=RS(e.converter,t,n);return BS(r,[VT(jT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rk.none())])}function jS(e,t,n){e=aT(e,lT);for(var r=aT(e.firestore,bT),i=jT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return BS(r,[("string"==typeof(t=pi(t))||t instanceof AT?QT(i,"updateDoc",e._key,t,n,o):GT(i,"updateDoc",e._key,t)).toMutation(e._key,rk.exists(!0))])}function VS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=pi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||gT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(gT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof lT)l=aT(e.firestore,bT),f=Ig(e._key.path),c={next:function(t){n[s]&&n[s](zS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=aT(e,fT);l=aT(p.firestore,bT),f=p._query;var v=new LS(l);c={next:function(e){n[s]&&n[s](new fS(l,v,p,e))},error:n[s+1],complete:n[s+2]},pS(e._query)}return function(e,t,n,r){var i=new NI(r),a=new gx(t,i,n);return e.asyncQueue.enqueueAndForget(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fx,t.next=3,GI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dx,t.next=3,GI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wT(l),f,h,c)}function qS(e,t){return function(e,t){var n=new NI(t);return e.asyncQueue.enqueueAndForget(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){em(e).io.add(t),t.next()},t.next=3,GI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(gi(bi().mark((function t(){return bi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){em(e).io.delete(t)},t.next=3,GI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wT(e=aT(e,bT)),gT(t)?t:{next:t})}function BS(e,t){return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function r(){return bi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Lx,r.next=3,KI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(wT(e),t)}function zS(e,t,n){var r=n.docs.get(t._key),i=new LS(e);return new cS(e,i,t._key,r,new sS(n.hasPendingWrites,n.fromCache),t.converter)}var WS=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,r))._firestore=e,i}return xr(n,[{key:"get",value:function(e){var t=this,r=DS(e,this._firestore),i=new LS(this._firestore);return ma(Dr(n.prototype),"get",this).call(this,e).then((function(e){return new cS(t._firestore,i,r._key,e._document,new sS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){_r(this,e),this._firestore=t,this._transaction=n,this._dataReader=jT(t)}return xr(e,[{key:"get",value:function(e){var t=this,n=DS(e,this._firestore),r=new OS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xy();var i=e[0];if(i.isFoundDocument())return new aS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new aS(t._firestore,r,n._key,null,n.converter);throw Xy()}))}},{key:"set",value:function(e,t,n){var r=DS(e,this._firestore),i=RS(r.converter,t,n),a=VT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=DS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pi(t))||t instanceof AT?QT(this._dataReader,"Transaction.update",i._key,t,n,o):GT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=DS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HS(e,t){return function(e,t){var n=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function r(){var i;return bi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return qI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new PI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(wT(e=aT(e,bT)),(function(n){return t(new WS(e,n))}))}function KS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WT("arrayUnion",t)}function GS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hy=e}(ea),Hi(new wi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new bT(i,new um(e.getProvider("auth-internal")),new fm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),oa(zy,"3.4.4",e),oa(zy,"3.4.4","esm2017")}();function QS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new nm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function YS(){if("undefined"===typeof Uint8Array)throw new nm("unimplemented","Uint8Arrays are not available in this environment.")}function $S(){if("undefined"==typeof atob)throw new nm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var JS=function(){function e(t){_r(this,e),this._delegate=t}return xr(e,[{key:"toBase64",value:function(){return $S(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return YS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return $S(),new e(NT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return YS(),new e(NT.fromUint8Array(t))}}]),e}();function XS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Sr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ZS=function(){function e(){_r(this,e)}return xr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){CT(e=aT(e,bT));var n=wT(e),r=e._freezeSettings(),i=new CI;return ET(n,i,new TI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){CT(e=aT(e,bT));var t=wT(e),n=e._freezeSettings(),r=new CI;return ET(t,r,new SI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new nm(tm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new rm;return e._queue.enqueueAndForgetEvenWhileRestricted(gi(bi().mark((function n(){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=gi(bi().mark((function e(t){var n;return bi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xb.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Xb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(l_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),eC=function(){function e(t,n,r){var i=this;_r(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof XI||(this._appCompat=t)}return xr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||$y("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return xT(this._delegate)}},{key:"disableNetwork",value:function(){return IT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&tT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new rm;return e.asyncQueue.enqueueAndForget(gi(bi().mark((function n(){return bi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Kx,n.next=3,KI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(wT(e=aT(e,bT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return qS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new nm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new pC(this,dT(this._delegate,e))}catch(t){throw oC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new aC(this,pT(this._delegate,e))}catch(t){throw oC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new fC(this,function(e,t){if(e=aT(e,sT),eT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new nm(tm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new fT(e,null,function(e){return new Eg(xm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw oC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return HS(this._delegate,(function(n){return e(new nC(t,n))}))}},{key:"batch",value:function(){var e=this;return wT(this._delegate),new rC(new PS(this._delegate,(function(t){return BS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return TT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ST(this._delegate,e).then((function(e){return e?new fC(t,e):null}))}}]),e}(),tC=function(e){Pr(n,e);var t=Ur(n);function n(e){var r;return _r(this,n),(r=t.call(this)).firestore=e,r}return xr(n,[{key:"convertBytes",value:function(e){return new JS(new NT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return aC.forKey(t,this.firestore,null)}}]),n}(NS);var nC=function(){function e(t,n){_r(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new tC(t)}return xr(e,[{key:"get",value:function(e){var t=this,n=vC(e);return this._delegate.get(n).then((function(e){return new cC(t._firestore,new cS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=vC(e);return n?(QS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=vC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vC(e);return this._delegate.delete(t),this}}]),e}(),rC=function(){function e(t){_r(this,e),this._delegate=t}return xr(e,[{key:"set",value:function(e,t,n){var r=vC(e);return n?(QS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=vC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),iC=function(){function e(t,n,r){_r(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return xr(e,[{key:"fromFirestore",value:function(e,t){var n=new lS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new tC(t),n),i.set(n,a)),a}}]),e}();iC.INSTANCES=new WeakMap;var aC=function(){function e(t,n){_r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tC(t)}return xr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new pC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new pC(this.firestore,dT(this._delegate,e))}catch(t){throw oC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=pi(e))instanceof lT&&vT(this._delegate,e)}},{key:"set",value:function(e,t){t=QS("DocumentReference.set",t);try{return t?US(this._delegate,e,t):US(this._delegate,e)}catch(n){throw oC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jS(this._delegate,e):jS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw oC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return BS(aT(e.firestore,bT),[new gk(e._key,rk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uC(n),a=sC(n,(function(t){return new cC(e.firestore,new cS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return VS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aT(e,lT);var t=aT(e.firestore,bT);return YI(wT(t),e._key,{source:"server"}).then((function(n){return zS(t,e,n)}))}(this._delegate):function(e){e=aT(e,lT);var t=aT(e.firestore,bT);return YI(wT(t),e._key).then((function(n){return zS(t,e,n)}))}(this._delegate),t.then((function(e){return new cC(n.firestore,new cS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new nm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new lT(n._delegate,r,new jm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new lT(n._delegate,r,t))}}]),e}();function oC(e,t,n){return e.message=e.message.replace(t,n),e}function uC(e){var t,n=Sr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!XS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function sC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=XS(e[0])?e[0]:XS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cC=function(){function e(t,n){_r(this,e),this._firestore=t,this._delegate=n}return xr(e,[{key:"ref",get:function(){return new aC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return dS(this._delegate,e._delegate)}}]),e}(),lC=function(e){Pr(n,e);var t=Ur(n);function n(){return _r(this,n),t.apply(this,arguments)}return xr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Xy()}(void 0!==t),t}}]),n}(cC),fC=function(){function e(t,n){_r(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tC(t)}return xr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,yS(this._delegate,function(e,t,n){var r=t,i=uS("where",e);return new mS(i,r,n)}(t,n,r)))}catch(i){throw oC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,yS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=uS("orderBy",e);return new gS(n,t)}(t,n)))}catch(r){throw oC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,yS(this._delegate,function(e){return oT("limit",e),new kS("limit",e,"F")}(t)))}catch(n){throw oC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,yS(this._delegate,function(e){return oT("limitToLast",e),new kS("limitToLast",e,"L")}(t)))}catch(n){throw oC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,yS(this._delegate,wS.apply(void 0,arguments)))}catch(t){throw oC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,yS(this._delegate,_S.apply(void 0,arguments)))}catch(t){throw oC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,yS(this._delegate,xS.apply(void 0,arguments)))}catch(t){throw oC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,yS(this._delegate,IS.apply(void 0,arguments)))}catch(t){throw oC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aT(e,fT);var t=aT(e.firestore,bT),n=wT(t),r=new LS(t);return $I(n,e._query,{source:"server"}).then((function(n){return new fS(t,r,e,n)}))}(this._delegate):function(e){e=aT(e,fT);var t=aT(e.firestore,bT),n=wT(t),r=new LS(t);return pS(e._query),$I(n,e._query).then((function(n){return new fS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new dC(n.firestore,new fS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uC(n),a=sC(n,(function(t){return new dC(e.firestore,new fS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return VS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),hC=function(){function e(t,n){_r(this,e),this._firestore=t,this._delegate=n}return xr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new lC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),dC=function(){function e(t,n){_r(this,e),this._firestore=t,this._delegate=n}return xr(e,[{key:"query",get:function(){return new fC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new lC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return dS(this._delegate,e._delegate)}}]),e}(),pC=function(e){Pr(n,e);var t=Ur(n);function n(e,r){var i;return _r(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return xr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new aC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new aC(this.firestore,void 0===e?pT(this._delegate):pT(this._delegate,e))}catch(t){throw oC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=aT(e.firestore,bT),r=pT(e),i=RS(e.converter,t);return BS(n,[VT(jT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new aC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return vT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(iC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(fC);function vC(e){return aT(e,lT)}var yC=function(){function e(){_r(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=jr(AT,n)}return xr(e,[{key:"isEqual",value:function(e){return(e=pi(e))instanceof AT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tm.keyField().canonicalString())}}]),e}(),mC=function(){function e(t){_r(this,e),this._delegate=t}return xr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new zT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new qT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=GS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new KT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),gC={Firestore:eC,GeoPoint:OT,Timestamp:gm,Blob:JS,Transaction:nC,WriteBatch:rC,DocumentReference:aC,DocumentSnapshot:cC,Query:fC,QueryDocumentSnapshot:lC,QuerySnapshot:dC,CollectionReference:pC,FieldPath:yC,FieldValue:mC,setLogLevel:function(e){!function(e){Ky.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new wi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},gC)))}(e,(function(e,t){return new eC(e,t,new ZS)})),e.registerVersion("@firebase/firestore-compat","0.1.13")}(va);var kC=n(184);va.initializeApp({apiKey:"AIzaSyBtWzPa0ZgetJVpPdoA98Cgb8UHJeROI1Y",authDomain:"hp-feedback.firebaseapp.com",projectId:"hp-feedback",storageBucket:"hp-feedback.appspot.com",messagingSenderId:"470851077228",appId:"1:470851077228:web:7613b5b3ea968d63300449"});var bC=function(){var e=va.firestore(),t=dr({initialValues:{feedback:""},onSubmit:function(t){e.collection("feedback").add(t),alert("Feedback submitted successfully!")}});return(0,kC.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,kC.jsx)("label",{htmlFor:"feedback",children:"Write your feedback for Horia here ..."}),(0,kC.jsx)("br",{}),(0,kC.jsx)("textarea",{id:"feedback",name:"feedback",type:"text",rows:10,cols:300,onChange:t.handleChange,value:t.values.feedback}),(0,kC.jsx)("br",{}),(0,kC.jsx)("button",{type:"submit",children:"Send feedback"})]})};function wC(){return(0,kC.jsx)(bC,{})}var _C=document.getElementById("root");r.render((0,kC.jsx)(wC,{}),_C)}()}();
//# sourceMappingURL=main.5f368ce1.js.map